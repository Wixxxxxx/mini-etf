{"ast":null,"code":"var _jsxFileName = \"/Users/raymeind/mini-etf/frontend/src/ChainlinkFeeds.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { ethers } from 'ethers';\nimport './ChainlinkFeeds.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ChainlinkFeeds({\n  account,\n  provider,\n  signer,\n  isConnected,\n  currentNetwork\n}) {\n  _s();\n  var _availableFeeds$curre, _calculatePriceBands, _calculatePriceBands2, _calculatePriceBands3, _calculatePriceBands4;\n  const [feeds, setFeeds] = useState([]);\n  const [selectedFeeds, setSelectedFeeds] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isFetching, setIsFetching] = useState(false); // Prevent multiple simultaneous fetches\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [basketPrice, setBasketPrice] = useState(null);\n  const [basketCalculation, setBasketCalculation] = useState(null);\n  const [showBasketCalculator, setShowBasketCalculator] = useState(false);\n\n  // Common Chainlink price feeds for different networks - Optimized for ETF Basket Trading\n  const availableFeeds = {\n    '0x5': [\n    // Goerli\n    {\n      address: '0xD4a33860578De61DBAbDc8BFdb98FD742fA7028e',\n      name: 'ETH/USD',\n      description: 'Ethereum to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }, {\n      address: '0x779877A7B0D9E8603169DdbD7836e478b4624789',\n      name: 'LINK/USD',\n      description: 'Chainlink to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.20\n    }, {\n      address: '0xA39434A63A52E749F02807ae27335515BA9b2F6F',\n      name: 'BTC/USD',\n      description: 'Bitcoin to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }],\n    '0xaa36a7': [\n    // Sepolia\n    {\n      address: '0x694AA1769357215DE4FAC081bf1f309aDC325306',\n      name: 'ETH/USD',\n      description: 'Ethereum to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }, {\n      address: '0xc59E3633BAAC79493d08e8bD3f9731fD61B3C326',\n      name: 'LINK/USD',\n      description: 'Chainlink to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.20\n    }, {\n      address: '0x1b44F3514812d835EB1BDB2acE6093a1F3e060A9',\n      name: 'BTC/USD',\n      description: 'Bitcoin to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }],\n    '0x13881': [\n    // Mumbai\n    {\n      address: '0x0715A7794a1dc8e42615F059dD6e406A6594651A',\n      name: 'ETH/USD',\n      description: 'Ethereum to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }, {\n      address: '0x12162c3E810393dECEc62aA165f3Df2c08FbF4E8',\n      name: 'LINK/USD',\n      description: 'Chainlink to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.20\n    }, {\n      address: '0x007A22900a3B98143368Bd7874Bc93c557e4e408',\n      name: 'BTC/USD',\n      description: 'Bitcoin to USD Price Feed',\n      decimals: 8,\n      category: 'crypto',\n      weight: 0.40\n    }]\n  };\n\n  // Chainlink ABI for price feeds\n  const chainlinkABI = [\"function latestRoundData() external view returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)\", \"function decimals() external view returns (uint8)\", \"function description() external view returns (string memory)\"];\n\n  // Your deployed contract addresses\n  const CONTRACT_ADDRESSES = {\n    basketPricer: '0xFfc7B12479ab107Ce0D7A3efbd505D18A5001FF1',\n    feedAggregator: '0x3BE15977b7653eC1EBa462bdB1ef30Bdc3267E74',\n    predictionMarketFactory: '0x29d1eBDa71C3d2B62CA2b6F275B1658077bB09DD',\n    claimTokens: '0x31d1e2d63169cC9e9910DDe53c62097bB5eE01Da',\n    collateral: '0x0000000000000000000000000000000000000000' // TODO: Add your USDC/collateral address\n  };\n\n  // Contract ABIs\n  const basketPricerABI = [\"function calculateWeightedBasketPrice(string[] calldata symbols, int256[] calldata w1e18) external view returns (int256 etfPrice)\", \"function boundsForBand(int256 etfPrice, uint16 bandBps) external pure returns (int256 lower1e18, int256 upper1e18)\", \"function quoteAndBounds(string[] calldata symbols, int256[] calldata w1e18, uint16 bandBps) external view returns (int256 etfPrice, int256 lower, int256 upper)\"];\n  const feedAggregatorABI = [\"function getPrices(string[] calldata symbols) external view returns (int256[] memory prices, uint8[] memory decimals, uint256[] memory updatedAts)\", \"function addFeedMapping(string memory symbol, address aggregator, uint48 maxDelay) external\", \"function owner() external view returns (address)\", \"error UnknownFeed(string symbol)\", \"error StalePrice(string symbol, uint256 updatedAt, uint256 nowTs, uint256 maxDelay)\"];\n  const predictionMarketFactoryABI = [\"function create(string[] calldata symbols, int256[] calldata w1e18, uint16 bandBps, uint64 settleTs) external returns (address mkt, address vault)\", \"function marketsByCreator(address creator) external view returns (address[] memory)\", \"function allMarkets() external view returns (address[] memory)\", \"event MarketCreated(address indexed market, address indexed creator, address vault, uint256 withinId, uint256 outsideId, int256 strike1e18, int256 lower1e18, int256 upper1e18, uint16 bandBps, uint64 settleTs)\"];\n  const predictionMarketABI = [\"function symbols() external view returns (string[] memory)\", \"function w1e18() external view returns (int256[] memory)\", \"function strike() external view returns (int256)\", \"function lower() external view returns (int256)\", \"function upper() external view returns (int256)\", \"function bandBps() external view returns (uint16)\", \"function settleTs() external view returns (uint64)\", \"function outcome() external view returns (uint8)\", \"function finalPrice() external view returns (int256)\", \"function settle() external\"];\n  useEffect(() => {\n    if (currentNetwork && currentNetwork.chainId) {\n      console.log('Network changed, loading feeds for chain ID:', currentNetwork.chainId);\n      const networkFeeds = availableFeeds[currentNetwork.chainId] || [];\n      console.log('Available feeds for this network:', networkFeeds);\n\n      // Validate that all addresses are unique and properly formatted\n      const validFeeds = networkFeeds.filter(feed => {\n        try {\n          if (ethers) {\n            const checksummedAddress = ethers.getAddress(feed.address);\n            console.log(`✓ Valid address for ${feed.name}: ${feed.address} -> ${checksummedAddress}`);\n            return true;\n          }\n          console.log(`✗ No ethers available for ${feed.name}`);\n          return false;\n        } catch (error) {\n          console.error(`✗ Invalid address for feed ${feed.name}:`, feed.address, error);\n          return false;\n        }\n      });\n      console.log('Valid feeds after address validation:', validFeeds);\n\n      // Debug: Check feed properties\n      validFeeds.forEach(feed => {\n        console.log(`Feed ${feed.name}:`, {\n          address: feed.address,\n          weight: feed.weight,\n          weightType: typeof feed.weight,\n          decimals: feed.decimals,\n          category: feed.category\n        });\n      });\n\n      // Remove duplicates\n      const addresses = validFeeds.map(f => f.address);\n      const uniqueAddresses = new Set(addresses);\n      if (addresses.length !== uniqueAddresses.size) {\n        console.error('Duplicate addresses found in feeds:', addresses);\n        // Remove duplicates by keeping only the first occurrence\n        const uniqueFeeds = validFeeds.filter((feed, index) => addresses.indexOf(feed.address) === index);\n        console.log('Setting feeds with duplicates removed:', uniqueFeeds);\n        setFeeds(uniqueFeeds);\n      } else {\n        console.log('Setting feeds (all addresses valid and unique):', validFeeds);\n        setFeeds(validFeeds);\n      }\n    }\n  }, [currentNetwork, ethers]);\n\n  // Utility function to safely convert any value to a number\n  const safeNumberConversion = value => {\n    if (typeof value === 'bigint') {\n      return Number(value);\n    }\n    if (typeof value === 'string') {\n      const parsed = parseFloat(value);\n      return isNaN(parsed) ? null : parsed;\n    }\n    if (typeof value === 'number' && !isNaN(value)) {\n      return value;\n    }\n    return null;\n  };\n\n  // Utility function to safely format BigInt or string values for display\n  const safeFormatUnits = (value, decimals = 18) => {\n    try {\n      if (typeof value === 'string') {\n        // If it's already a string, try to parse it using ethers\n        const bigIntValue = ethers.parseUnits(value, 0); // Parse as whole number\n        return ethers.formatUnits(bigIntValue, decimals);\n      } else if (typeof value === 'bigint') {\n        return ethers.formatUnits(value, decimals);\n      } else {\n        return value.toString();\n      }\n    } catch (error) {\n      console.warn('Error formatting value:', value, error);\n      return value.toString();\n    }\n  };\n\n  // Get live price from Chainlink feed\n  const getLivePrice = async feedAddress => {\n    if (!provider || !isConnected || !ethers) {\n      console.log('Cannot fetch price:', {\n        provider: !!provider,\n        isConnected,\n        ethers: !!ethers\n      });\n      return null;\n    }\n    try {\n      // Validate and checksum the address\n      let validAddress;\n      try {\n        validAddress = ethers.getAddress(feedAddress);\n        console.log(`Original address: ${feedAddress}`);\n        console.log(`Checksummed address: ${validAddress}`);\n      } catch (addressError) {\n        console.error('Invalid address format:', addressError);\n        return null;\n      }\n      console.log(`Fetching price for feed: ${validAddress}`);\n      const contract = new ethers.Contract(validAddress, chainlinkABI, provider);\n      console.log('Contract created, fetching latestRoundData...');\n      const roundData = await contract.latestRoundData();\n      console.log('Round data received:', roundData);\n      console.log('Fetching decimals...');\n      const decimals = await contract.decimals();\n      console.log('Decimals:', decimals);\n\n      // Convert both answer and decimals to numbers - handle BigInt values\n      const answerNumber = safeNumberConversion(roundData.answer);\n      const decimalsNumber = safeNumberConversion(decimals);\n      if (answerNumber === null) {\n        console.error('Could not convert answer to number:', roundData.answer);\n        return null;\n      }\n      if (decimalsNumber === null) {\n        console.error('Could not convert decimals to number:', decimals);\n        return null;\n      }\n      const price = answerNumber / Math.pow(10, decimalsNumber);\n      console.log(`Converted answer: ${answerNumber}, decimals: ${decimalsNumber}, calculated price: ${price}`);\n      return price;\n    } catch (error) {\n      console.error('Error fetching price from feed:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data\n      });\n      return null;\n    }\n  };\n\n  // Refresh all feed prices\n  const refreshPrices = useCallback(async () => {\n    if (!isConnected || !ethers) {\n      console.error('Cannot refresh prices: not connected or ethers not available');\n      return;\n    }\n    if (isFetching) {\n      console.log('Price fetch already in progress, skipping...');\n      return;\n    }\n    setIsFetching(true);\n    setLoading(true);\n    try {\n      console.log(`Starting price fetch for ${feeds.length} feeds...`);\n      const updatedFeeds = await Promise.all(feeds.map(async feed => {\n        try {\n          console.log(`Fetching price for ${feed.name} (${feed.address})`);\n          const price = await getLivePrice(feed.address);\n          console.log(`Got price for ${feed.name}:`, price);\n          return {\n            ...feed,\n            currentPrice: price\n          };\n        } catch (feedError) {\n          console.error(`Error fetching price for ${feed.name}:`, feedError);\n          return {\n            ...feed,\n            currentPrice: null\n          };\n        }\n      }));\n      console.log('All price fetches completed, updating feeds...');\n      setFeeds(updatedFeeds);\n    } catch (error) {\n      console.error('Error refreshing prices:', error);\n    } finally {\n      setLoading(false);\n      setIsFetching(false);\n    }\n  }, [feeds, isConnected, ethers, isFetching]);\n\n  // Toggle feed selection\n  const toggleFeedSelection = feed => {\n    console.log('Toggling feed selection:', {\n      feed,\n      weight: feed.weight,\n      weightType: typeof feed.weight\n    });\n    setSelectedFeeds(prev => {\n      const isSelected = prev.some(f => f.address === feed.address);\n      if (isSelected) {\n        return prev.filter(f => f.address !== feed.address);\n      } else {\n        // Ensure the feed object has all necessary properties\n        const feedWithWeight = {\n          ...feed,\n          weight: feed.weight || 1 / (prev.length + 1) // Fallback weight if not set\n        };\n        console.log('Adding feed with weight:', feedWithWeight);\n        return [...prev, feedWithWeight];\n      }\n    });\n  };\n\n  // Filter feeds based on search and category\n  const filteredFeeds = feeds.filter(feed => {\n    if (!feed || !feed.name || !feed.description) return false;\n    const matchesSearch = feed.name.toLowerCase().includes(searchTerm.toLowerCase()) || feed.description.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = filterCategory === 'all' || feed.category === filterCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  // Get category display name\n  const getCategoryDisplayName = category => {\n    const categories = {\n      'crypto': 'Cryptocurrencies',\n      'stablecoin': 'Stablecoins',\n      'forex': 'Forex',\n      'commodities': 'Commodities'\n    };\n    return categories[category] || category;\n  };\n\n  // Check what feeds are registered in your FeedAggregator contract\n  const getRegisteredFeeds = async () => {\n    if (!provider || !isConnected) {\n      console.log('Cannot check registered feeds: not connected');\n      return null;\n    }\n    try {\n      console.log('Checking registered feeds in FeedAggregator contract...');\n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n\n      // Try to get the owner to verify contract is accessible\n      const owner = await contract.owner();\n      console.log('Contract owner:', owner);\n\n      // Use the full symbol format that matches your contract mappings\n      const testSymbols = ['ETH/USD', 'BTC/USD', 'LINK/USD', 'USDC/USD', 'DAI/USD'];\n      console.log('Testing with full symbol format:', testSymbols);\n      return {\n        owner,\n        testSymbols\n      };\n    } catch (error) {\n      console.error('Error checking registered feeds:', error);\n      return null;\n    }\n  };\n\n  // Get prices from your deployed FeedAggregator contract\n  const getContractPrices = async symbols => {\n    if (!provider || !isConnected) {\n      console.log('Cannot fetch contract prices: not connected');\n      return null;\n    }\n    try {\n      console.log('Fetching prices from FeedAggregator contract for symbols:', symbols);\n      console.log('Symbols type:', typeof symbols, 'Length:', symbols.length);\n      console.log('Symbols content:', JSON.stringify(symbols));\n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n      const result = await contract.getPrices(symbols);\n      console.log('Contract prices result:', result);\n      return {\n        prices: result.prices,\n        decimals: result.decimals,\n        updatedAts: result.updatedAts\n      };\n    } catch (error) {\n      console.error('Error fetching contract prices:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data,\n        reason: error.reason\n      });\n\n      // Try to decode the revert reason if available\n      if (error.data && error.data !== '0x') {\n        try {\n          const iface = new ethers.Interface(feedAggregatorABI);\n          const decodedError = iface.parseError(error.data);\n          console.error('Decoded error:', decodedError);\n        } catch (decodeError) {\n          console.error('Could not decode error data:', decodeError);\n        }\n      }\n      return null;\n    }\n  };\n\n  // Create a prediction market for the selected ETF basket (OFFLINE MOCK VERSION)\n  const createPredictionMarket = async (symbols, weights, bandBps = 500, settleDays = 7) => {\n    console.log('=== createPredictionMarket FUNCTION STARTED (OFFLINE MODE) ===');\n    console.log('Parameters received:', {\n      symbols,\n      weights,\n      bandBps,\n      settleDays\n    });\n    try {\n      console.log('Creating prediction market with:', {\n        symbols,\n        weights,\n        bandBps,\n        settleDays\n      });\n\n      // Input validation\n      if (!Array.isArray(symbols) || symbols.length === 0) {\n        throw new Error(`Invalid symbols: ${JSON.stringify(symbols)}. Must be a non-empty array.`);\n      }\n      if (!Array.isArray(weights) || weights.length === 0) {\n        throw new Error(`Invalid weights: ${JSON.stringify(weights)}. Must be a non-empty array.`);\n      }\n      if (symbols.length !== weights.length) {\n        throw new Error(`Mismatch: symbols length (${symbols.length}) != weights length (${weights.length})`);\n      }\n\n      // Debug: Log the exact data being processed\n      console.log('createPredictionMarket input validation passed:');\n      console.log('- Symbols:', symbols);\n      console.log('- Weights:', weights);\n      console.log('- Symbols types:', symbols.map(s => typeof s));\n      console.log('- Weights types:', weights.map(w => typeof w));\n      console.log('- Weights values:', weights.map(w => w));\n\n      // Calculate settlement timestamp (current time + settleDays)\n      const settleTs = Math.floor(Date.now() / 1000) + settleDays * 24 * 60 * 60;\n\n      // Calculate mock ETF price using the frontend calculation\n      console.log('About to call calculateBasketPrice...');\n      const mockEtfPrice = calculateBasketPrice();\n      console.log('calculateBasketPrice returned:', mockEtfPrice);\n      console.log('Type of mockEtfPrice:', typeof mockEtfPrice);\n      if (!mockEtfPrice) {\n        throw new Error('Could not calculate ETF basket price - function returned null/undefined');\n      }\n      if (isNaN(mockEtfPrice)) {\n        throw new Error(`ETF basket price is NaN: ${mockEtfPrice}`);\n      }\n\n      // Convert to 1e18 format for consistency\n      const strike1e18 = ethers.parseUnits(mockEtfPrice.toString(), 18);\n\n      // Calculate price bands (5% by default)\n      const bandMultiplier = bandBps / 10000; // Convert BPS to decimal\n\n      // Convert everything to numbers for calculation, then back to BigInt\n      const strikeNumber = Number(ethers.formatUnits(strike1e18, 18));\n      const lowerNumber = strikeNumber * (1 - bandMultiplier);\n      const upperNumber = strikeNumber * (1 + bandMultiplier);\n\n      // Convert back to 1e18 format\n      const lower1e18 = ethers.parseUnits(lowerNumber.toString(), 18);\n      const upper1e18 = ethers.parseUnits(upperNumber.toString(), 18);\n      console.log('Mock market creation parameters:', {\n        symbols,\n        weights,\n        bandBps,\n        settleTs,\n        strike1e18: strike1e18.toString(),\n        lower1e18: lower1e18.toString(),\n        upper1e18: upper1e18.toString()\n      });\n\n      // Simulate a delay to mimic blockchain transaction\n      console.log('Simulating blockchain transaction...');\n      await new Promise(resolve => setTimeout(resolve, 2000));\n\n      // Generate mock addresses\n      const mockMarketAddress = `0x${Math.random().toString(16).substr(2, 40)}`;\n      const mockVaultAddress = `0x${Math.random().toString(16).substr(2, 40)}`;\n      console.log('Mock addresses generated:', {\n        market: mockMarketAddress,\n        vault: mockVaultAddress\n      });\n\n      // Return mock market data\n      return {\n        market: mockMarketAddress,\n        vault: mockVaultAddress,\n        withinId: '1',\n        // Mock token ID for \"within band\" outcome\n        outsideId: '2',\n        // Mock token ID for \"outside band\" outcome\n        strike: strike1e18,\n        lower: lower1e18,\n        upper: upper1e18,\n        bandBps: bandBps,\n        settleTs: settleTs\n      };\n    } catch (error) {\n      console.error('=== ERROR IN createPredictionMarket ===');\n      console.error('Error message:', error.message);\n      console.error('Error stack:', error.stack);\n      console.error('Error type:', error.constructor.name);\n      console.error('Full error object:', error);\n      return null;\n    }\n  };\n\n  // Calculate ETF basket price using your deployed BasketPricer contract\n  const calculateContractBasketPrice = async (symbols, weights) => {\n    if (!provider || !isConnected) {\n      console.log('Cannot calculate contract basket price: not connected');\n      return null;\n    }\n    try {\n      console.log('Calculating basket price using BasketPricer contract');\n      console.log('Symbols:', symbols);\n      console.log('Weights (1e18):', weights);\n      console.log('Symbols type:', typeof symbols, 'Length:', symbols.length);\n      console.log('Weights type:', typeof weights, 'Length:', weights.length);\n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.basketPricer, basketPricerABI, provider);\n\n      // Convert weights to 1e18 format (using ethers.parseUnits for compatibility)\n      const weights1e18 = weights.map(w => ethers.parseUnits(w.toString(), 18));\n      console.log('Converted weights1e18:', weights1e18);\n      console.log('Weights1e18 type:', typeof weights1e18, 'Length:', weights1e18.length);\n\n      // Validate inputs before calling contract\n      if (symbols.length === 0) {\n        throw new Error('Symbols array is empty');\n      }\n      if (weights1e18.length === 0) {\n        throw new Error('Weights array is empty');\n      }\n      if (symbols.length !== weights1e18.length) {\n        throw new Error(`Symbols length (${symbols.length}) != weights length (${weights1e18.length})`);\n      }\n      console.log('Calling contract.quoteAndBounds with:', {\n        symbols,\n        weights1e18: weights1e18.map(w => w.toString()),\n        bandBps: 500\n      });\n      const result = await contract.quoteAndBounds(symbols, weights1e18, 500); // 5% band\n      console.log('Contract basket calculation result:', result);\n      return {\n        etfPrice: result.etfPrice,\n        lower: result.lower,\n        upper: result.upper\n      };\n    } catch (error) {\n      console.error('Error calculating contract basket price:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data,\n        reason: error.reason\n      });\n\n      // Try to decode the revert reason if available\n      if (error.data && error.data !== '0x') {\n        try {\n          const iface = new ethers.Interface(basketPricerABI);\n          const decodedError = iface.parseError(error.data);\n          console.error('Decoded error:', decodedError);\n        } catch (decodeError) {\n          console.error('Could not decode error data:', decodeError);\n        }\n      }\n      return null;\n    }\n  };\n\n  // Calculate ETF basket price using selected feeds and weights (Frontend calculation)\n  const calculateBasketPrice = useCallback(() => {\n    console.log('calculateBasketPrice called with selectedFeeds:', selectedFeeds);\n    if (selectedFeeds.length === 0) {\n      console.log('No selected feeds, returning null');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n    let totalWeight = 0;\n    let weightedPrice = 0;\n    const calculations = [];\n\n    // Filter feeds that have valid prices\n    const validFeeds = selectedFeeds.filter(feed => feed.currentPrice !== undefined && feed.currentPrice !== null && !isNaN(feed.currentPrice) && feed.currentPrice > 0 && typeof feed.currentPrice === 'number');\n    console.log('Valid feeds with prices:', validFeeds.length, 'out of', selectedFeeds.length);\n    if (validFeeds.length === 0) {\n      console.log('No valid feeds with prices, returning null');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n    validFeeds.forEach(feed => {\n      const weight = Number(feed.weight) || 1 / validFeeds.length; // Ensure weight is a number\n      const price = Number(feed.currentPrice); // Ensure it's a number\n\n      console.log(`Processing feed ${feed.name}:`, {\n        weight,\n        price,\n        currentPrice: feed.currentPrice\n      });\n\n      // Additional safety check for BigInt or other non-number types\n      if (typeof price !== 'number' || isNaN(price)) {\n        console.warn(`Skipping feed ${feed.name} with invalid price:`, feed.currentPrice);\n        return;\n      }\n      if (typeof weight !== 'number' || isNaN(weight)) {\n        console.warn(`Skipping feed ${feed.name} with invalid weight:`, feed.weight);\n        return;\n      }\n      const contribution = price * weight;\n      calculations.push({\n        symbol: feed.name.split('/')[0],\n        price: price,\n        weight: weight,\n        contribution: contribution,\n        decimals: feed.decimals\n      });\n      weightedPrice += contribution;\n      totalWeight += weight;\n    });\n    if (totalWeight > 0 && calculations.length > 0) {\n      const basketPrice = weightedPrice / totalWeight;\n      console.log('Basket calculation successful:', {\n        validFeeds: validFeeds.length,\n        totalWeight,\n        weightedPrice,\n        basketPrice,\n        calculations\n      });\n      setBasketPrice(basketPrice);\n      setBasketCalculation(calculations);\n      return basketPrice; // Return the calculated price\n    } else {\n      console.log('Basket calculation failed - no valid calculations');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n  }, [selectedFeeds]);\n\n  // Calculate price bands for prediction markets\n  const calculatePriceBands = (price, bandBps = 500) => {\n    // Default 5% band\n    if (!price) return null;\n    const band = bandBps / 10000; // Convert basis points to decimal\n    const lower = price * (1 - band);\n    const upper = price * (1 + band);\n    return {\n      lower,\n      upper,\n      bandBps\n    };\n  };\n\n  // Auto-fetch prices when feeds are loaded and wallet is connected\n  useEffect(() => {\n    if (feeds.length > 0 && isConnected && provider && !loading && !isFetching) {\n      console.log('Auto-fetching prices for feeds:', feeds.length);\n      console.log('Provider available:', !!provider);\n      console.log('Wallet connected:', isConnected);\n      console.log('Current loading state:', loading);\n      console.log('Current fetching state:', isFetching);\n      refreshPrices();\n    } else {\n      console.log('Auto-fetch conditions not met:', {\n        feedsLength: feeds.length,\n        isConnected,\n        hasProvider: !!provider,\n        isLoading: loading,\n        isFetching: isFetching\n      });\n    }\n  }, [feeds, isConnected, provider, refreshPrices, loading, isFetching]);\n\n  // Auto-calculate basket price when selected feeds or prices change\n  useEffect(() => {\n    if (selectedFeeds.length > 0) {\n      // Check if we have prices for all selected feeds\n      const feedsWithPrices = selectedFeeds.filter(feed => feed.currentPrice !== undefined && feed.currentPrice !== null);\n      if (feedsWithPrices.length === selectedFeeds.length) {\n        calculateBasketPrice();\n      }\n    }\n  }, [selectedFeeds, calculateBasketPrice]);\n\n  // Error boundary for the component\n  if (!ethers) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chainlink-feeds\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u26A0\\uFE0F Error Loading Chainlink Feeds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ethers library is not available. Please check your dependencies.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chainlink-feeds\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feeds-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDD17 Chainlink Price Feeds\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select and monitor real-time price feeds from Chainlink oracles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }, this), currentNetwork && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"network-info-banner\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"network-badge\",\n        children: [\"\\uD83C\\uDF10 \", currentNetwork.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 714,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chain-id-badge\",\n        children: [\"Chain ID: \", currentNetwork.chainId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 11\n      }, this), !isConnected && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"warning-badge\",\n        children: \"\\u26A0\\uFE0F Connect wallet to view live prices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 13\n      }, this), isConnected && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"status-badge\",\n        children: \"\\u2705 Wallet Connected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feeds-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-filter\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search feeds...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          className: \"category-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Categories\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"crypto\",\n            children: \"Cryptocurrencies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"stablecoin\",\n            children: \"Stablecoins\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"forex\",\n            children: \"Forex\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"commodities\",\n            children: \"Commodities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"refresh-section\",\n        children: !isConnected ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"connect-prompt\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"warning-text\",\n            children: \"\\u26A0\\uFE0F Connect your wallet to view live prices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: refreshPrices,\n            disabled: loading,\n            className: \"refresh-button primary\",\n            children: loading ? '🔄 Refreshing...' : '🔄 Refresh Prices'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"refresh-status\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"loading-indicator\",\n              children: [\"\\u23F3 Fetching prices for \", feeds.length, \" feeds...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-indicator\",\n              children: [feeds.filter(f => f.currentPrice !== undefined && f.currentPrice !== null).length, \" of \", feeds.length, \" feeds have prices\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"debug-panel\",\n        children: /*#__PURE__*/_jsxDEV(\"details\", {\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            children: \"\\uD83D\\uDC1B Debug Info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"debug-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Provider:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 20\n              }, this), \" \", provider ? 'Available' : 'Not Available']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Signer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 20\n              }, this), \" \", signer ? 'Available' : 'Not Available']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Connected:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 20\n              }, this), \" \", isConnected ? 'Yes' : 'No']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Account:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 20\n              }, this), \" \", account || 'None']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Network:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 20\n              }, this), \" \", currentNetwork ? `${currentNetwork.name} (${currentNetwork.chainId})` : 'None']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Feeds Count:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 20\n              }, this), \" \", feeds.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Selected Feeds:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 20\n              }, this), \" \", selectedFeeds.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Ethers Version:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 20\n              }, this), \" \", ethers ? ethers.version || 'Unknown' : 'Not Available']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Loading State:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 20\n              }, this), \" \", loading ? 'Yes' : 'No']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Fetching State:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 20\n              }, this), \" \", isFetching ? 'Yes' : 'No']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Available Feeds for Network:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 20\n              }, this), \" \", currentNetwork ? ((_availableFeeds$curre = availableFeeds[currentNetwork.chainId]) === null || _availableFeeds$curre === void 0 ? void 0 : _availableFeeds$curre.length) || 0 : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 786,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contract-panel\",\n        children: /*#__PURE__*/_jsxDEV(\"details\", {\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            children: \"\\uD83D\\uDCCB Contract Integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contract-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"BasketPricer:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 20\n              }, this), \" \", CONTRACT_ADDRESSES.basketPricer]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"FeedAggregator:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 20\n              }, this), \" \", CONTRACT_ADDRESSES.feedAggregator]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Network:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 20\n              }, this), \" \", currentNetwork ? currentNetwork.name : 'Unknown']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Integration Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 20\n              }, this), \" \", isConnected ? '🟢 Ready' : '🔴 Connect Wallet']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feeds-grid\",\n      children: filteredFeeds.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-feeds\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No feeds available for the current network\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Switch to a supported testnet (Goerli, Sepolia, or Mumbai)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 13\n        }, this), ethers && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"address-validation-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Note:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 20\n            }, this), \" Some feeds may have been filtered out due to invalid addresses.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Check the console for specific address validation errors.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 11\n      }, this) : filteredFeeds.map((feed, index) => {\n        if (!feed || !feed.address || !feed.name) return null;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `feed-card ${selectedFeeds.some(f => f.address === feed.address) ? 'selected' : ''}`,\n          onClick: () => toggleFeedSelection(feed),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: feed.name || 'Unknown Feed'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-tag\",\n              children: getCategoryDisplayName(feed.category || 'unknown')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"feed-description\",\n            children: feed.description || 'No description available'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label\",\n                children: \"Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value address\",\n                children: feed.address ? `${feed.address.slice(0, 6)}...${feed.address.slice(-4)}` : 'Invalid Address'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label\",\n                children: \"Decimals:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value\",\n                children: feed.decimals || 8\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label\",\n                children: \"Weight:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value weight\",\n                children: [((feed.weight || 1 / (feeds.length || 1)) * 100).toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label\",\n                children: \"Current Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"value price\",\n                children: feed.currentPrice !== undefined && feed.currentPrice !== null && !isNaN(feed.currentPrice) && typeof feed.currentPrice === 'number' ? `$${feed.currentPrice.toFixed(4)}` : isConnected ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"loading-status\",\n                  children: [loading ? '⏳ Fetching...' : 'Loading...', /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"retry-button\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      getLivePrice(feed.address).then(price => {\n                        const updatedFeeds = feeds.map(f => f.address === feed.address ? {\n                          ...f,\n                          currentPrice: price\n                        } : f);\n                        setFeeds(updatedFeeds);\n                      });\n                    },\n                    children: \"\\uD83D\\uDD04 Retry\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 878,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 876,\n                  columnNumber: 27\n                }, this) : 'Connect wallet'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feed-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"select-button\",\n              onClick: e => {\n                e.stopPropagation();\n                toggleFeedSelection(feed);\n              },\n              children: selectedFeeds.some(f => f.address === feed.address) ? '✓ Selected' : 'Select'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"copy-address-button\",\n              onClick: e => {\n                e.stopPropagation();\n                navigator.clipboard.writeText(feed.address);\n                alert('Address copied to clipboard!');\n              },\n              children: \"\\uD83D\\uDCCB Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 17\n          }, this)]\n        }, `${feed.address}-${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 837,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 7\n    }, this), selectedFeeds.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-feeds-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Selected Feeds (\", selectedFeeds.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 930,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-feeds-list\",\n        children: selectedFeeds.map((feed, index) => {\n          if (!feed || !feed.address) return null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-feed-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"feed-name\",\n              children: feed.name || 'Unknown Feed'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"feed-price\",\n              children: feed.currentPrice !== undefined && feed.currentPrice !== null && !isNaN(feed.currentPrice) && typeof feed.currentPrice === 'number' ? `$${feed.currentPrice.toFixed(4)}` : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleFeedSelection(feed),\n              className: \"remove-button\",\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 19\n            }, this)]\n          }, `selected-${feed.address}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 931,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"export-button\",\n          onClick: () => {\n            const feedData = selectedFeeds.map(f => ({\n              name: f.name,\n              address: f.address,\n              description: f.description,\n              decimals: f.decimals,\n              category: f.category\n            }));\n            const blob = new Blob([JSON.stringify(feedData, null, 2)], {\n              type: 'application/json'\n            });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = 'selected-chainlink-feeds.json';\n            a.click();\n            URL.revokeObjectURL(url);\n          },\n          children: \"\\uD83D\\uDCE5 Export Selected Feeds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-button\",\n          onClick: () => setSelectedFeeds([]),\n          children: \"\\uD83D\\uDDD1\\uFE0F Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"check-feeds-button\",\n          onClick: async () => {\n            try {\n              const registeredFeeds = await getRegisteredFeeds();\n              if (registeredFeeds) {\n                alert(`Contract Status:\\n\\nOwner: ${registeredFeeds.owner}\\nTest Symbols: ${registeredFeeds.testSymbols.join(', ')}\\n\\nNote: These are test symbols. Your contract may not have these feeds registered yet.`);\n              } else {\n                alert('Could not check contract status. Check console for details.');\n              }\n            } catch (error) {\n              console.error('Check feeds failed:', error);\n              alert(`Check feeds failed: ${error.message}`);\n            }\n          },\n          children: \"\\uD83D\\uDD0D Check Contract Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 983,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"test-weights-button\",\n          onClick: () => {\n            if (selectedFeeds.length === 0) {\n              alert('Please select some feeds first');\n              return;\n            }\n            const symbols = selectedFeeds.map(f => f.name);\n            let weights = selectedFeeds.map(f => f.weight || 1 / selectedFeeds.length);\n\n            // Normalize weights to sum to 1\n            const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n            weights = weights.map(w => w / totalWeight);\n            console.log('Weight test:', {\n              selectedFeeds: selectedFeeds.map(f => ({\n                name: f.name,\n                weight: f.weight\n              })),\n              symbols,\n              weights,\n              totalWeight: weights.reduce((sum, w) => sum + w, 0)\n            });\n\n            // Test weight conversion\n            try {\n              const weights1e18 = weights.map(w => ethers.parseUnits(w.toString(), 18));\n              console.log('Weight conversion test:', {\n                original: weights,\n                converted: weights1e18.map(w => w.toString()),\n                allValid: weights1e18.every(w => w.gt(0))\n              });\n              alert('Weight test successful! Check console for details.');\n            } catch (error) {\n              console.error('Weight conversion failed:', error);\n              alert(`Weight conversion failed: ${error.message}`);\n            }\n          },\n          children: \"\\uD83E\\uDDEA Test Weights\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create-market-button\",\n          onClick: async () => {\n            if (selectedFeeds.length === 0) {\n              alert('Please select some feeds first to create a prediction market');\n              return;\n            }\n            const symbols = selectedFeeds.map(f => f.name);\n            let weights = selectedFeeds.map(f => {\n              const weight = f.weight || 1 / selectedFeeds.length;\n              console.log(`Create Market - Feed ${f.name}: weight=${f.weight}, fallback=${1 / selectedFeeds.length}, final=${weight}`);\n              return weight;\n            });\n\n            // Validate inputs before creating market\n            if (symbols.length === 0) {\n              alert('No symbols selected. Please select some feeds first.');\n              return;\n            }\n            if (weights.some(w => w === null || w === undefined || isNaN(w) || w <= 0)) {\n              alert('Invalid weights detected. All weights must be positive numbers.');\n              return;\n            }\n\n            // Normalize weights to sum to 1\n            const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n            weights = weights.map(w => w / totalWeight);\n            console.log('Creating prediction market for:', {\n              symbols,\n              weights\n            });\n            console.log('Weight validation:', weights.map((w, i) => ({\n              index: i,\n              weight: w,\n              valid: w > 0 && !isNaN(w)\n            })));\n            console.log('Normalized weights sum:', weights.reduce((sum, w) => sum + w, 0));\n\n            // Debug: Check the exact data being passed\n            console.log('DEBUG - Symbols array:', symbols);\n            console.log('DEBUG - Symbols type:', typeof symbols, 'Length:', symbols.length);\n            console.log('DEBUG - Weights array:', weights);\n            console.log('DEBUG - Weights type:', typeof weights, 'Length:', weights.length);\n            console.log('DEBUG - Selected feeds:', selectedFeeds);\n            try {\n              // Test if function exists\n              if (typeof createPredictionMarket !== 'function') {\n                throw new Error(`createPredictionMarket is not a function! Type: ${typeof createPredictionMarket}`);\n              }\n              console.log('Function exists, calling createPredictionMarket...');\n              console.log('About to call with:', {\n                symbols,\n                weights,\n                bandBps: 500,\n                settleDays: 7\n              });\n\n              // Test the function call step by step\n              let result;\n              try {\n                console.log('Step 1: Function call starting...');\n                result = await createPredictionMarket(symbols, weights, 500, 7); // 5% band, 7 days\n                console.log('Step 2: Function call completed, result:', result);\n              } catch (callError) {\n                console.error('Step 2: Function call failed:', callError);\n                throw callError;\n              }\n              if (result) {\n                alert(`🎯 Prediction Market Created! (OFFLINE MODE)\\n\\nMarket: ${result.market}\\nVault: ${result.vault}\\nWithin ID: ${result.withinId}\\nOutside ID: ${result.outsideId}\\nStrike: ${ethers.formatUnits(result.strike, 18)}\\nLower: ${ethers.formatUnits(result.lower, 18)}\\nUpper: ${ethers.formatUnits(result.upper, 18)}\\nBand: ${result.bandBps / 100}%\\nSettle: ${new Date(result.settleTs * 1000).toLocaleString()}\\n\\nNote: This is a mock market for testing. No actual blockchain transaction occurred.`);\n\n                // Store the created market for later use\n                const newMarket = {\n                  id: Date.now(),\n                  market: result.market,\n                  vault: result.vault,\n                  symbols,\n                  weights,\n                  strike: result.strike.toString(),\n                  // Convert BigInt to string\n                  lower: result.lower.toString(),\n                  // Convert BigInt to string\n                  upper: result.upper.toString(),\n                  // Convert BigInt to string\n                  bandBps: result.bandBps,\n                  settleTs: result.settleTs,\n                  createdAt: Date.now(),\n                  isMock: true // Mark as mock market\n                };\n\n                // Store in localStorage for the CLOB page\n                localStorage.setItem('createdMarkets', JSON.stringify([...JSON.parse(localStorage.getItem('createdMarkets') || '[]'), newMarket]));\n                console.log('Mock market created and stored:', newMarket);\n              } else {\n                alert('Failed to create prediction market. Check console for details.');\n              }\n            } catch (error) {\n              console.error('=== BUTTON CLICK ERROR ===');\n              console.error('Error message:', error.message);\n              console.error('Error stack:', error.stack);\n              console.error('Error type:', error.constructor.name);\n              console.error('Full error object:', error);\n              alert(`Create market failed: ${error.message}\\n\\nCheck console for detailed error information.`);\n            }\n          },\n          children: \"\\uD83C\\uDFAF Create Prediction Market (OFFLINE)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1042,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"contract-test-button\",\n          onClick: () => {\n            console.log('=== FUNCTION ACCESSIBILITY TEST ===');\n            console.log('createPredictionMarket:', typeof createPredictionMarket);\n            console.log('calculateContractBasketPrice:', typeof calculateContractBasketPrice);\n            console.log('getRegisteredFeeds:', typeof getRegisteredFeeds);\n            console.log('toggleFeedSelection:', typeof toggleFeedSelection);\n            alert('Check console for function accessibility test results');\n          },\n          children: \"\\uD83D\\uDD0D Test Function Access\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"contract-test-button\",\n          onClick: async () => {\n            try {\n              // First, check what feeds are registered in your contract\n              console.log('Checking registered feeds...');\n              const registeredFeeds = await getRegisteredFeeds();\n              console.log('Registered feeds info:', registeredFeeds);\n              if (!registeredFeeds) {\n                alert('Could not check registered feeds. Check console for details.');\n                return;\n              }\n\n              // Use selected feeds if available, otherwise fall back to test symbols\n              let symbols, weights;\n              if (selectedFeeds.length > 0) {\n                symbols = selectedFeeds.map(f => f.name); // Use full name like \"ETH/USD\"\n                weights = selectedFeeds.map(f => f.weight || 1 / selectedFeeds.length);\n                console.log('Using selected feeds with full names:', symbols);\n              } else {\n                // Use the symbols that are actually in your FeedAggregator contract\n                symbols = ['ETH/USD', 'BTC/USD', 'LINK/USD'];\n                weights = [0.4, 0.4, 0.2]; // Match the weights defined above\n                console.log('Using fallback test symbols from your contract:', symbols);\n              }\n              console.log('Final symbols:', symbols);\n              console.log('Final weights:', weights);\n              console.log('Testing contract integration with:', {\n                symbols,\n                weights\n              });\n\n              // First, test if contracts are accessible\n              console.log('Testing contract accessibility...');\n              const basketContract = new ethers.Contract(CONTRACT_ADDRESSES.basketPricer, basketPricerABI, provider);\n              const aggregatorContract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n              console.log('Contracts created successfully');\n\n              // Test FeedAggregator\n              console.log('Testing FeedAggregator...');\n              const contractPrices = await getContractPrices(symbols);\n              console.log('FeedAggregator prices:', contractPrices);\n\n              // Test BasketPricer\n              console.log('Testing BasketPricer...');\n              const contractBasket = await calculateContractBasketPrice(symbols, weights);\n              console.log('BasketPricer result:', contractBasket);\n              if (contractBasket) {\n                // Convert ethers BigNumber to readable format\n                const etfPrice = ethers.formatUnits(contractBasket.etfPrice, 18);\n                const lowerBand = ethers.formatUnits(contractBasket.lower, 18);\n                const upperBand = ethers.formatUnits(contractBasket.upper, 18);\n                alert(`Contract Integration Test:\\n\\nSymbols Tested: ${symbols.join(', ')}\\nFeedAggregator: ${contractPrices ? '✅ Working' : '❌ Failed'}\\nBasketPricer: ✅ Working\\n\\nETF Price: ${etfPrice}\\nLower Band: ${lowerBand}\\nUpper Band: ${upperBand}`);\n              } else {\n                alert('Contract integration test failed. Check console for details.');\n              }\n            } catch (error) {\n              console.error('Contract test failed:', error);\n              alert(`Contract test failed: ${error.message}\\n\\nCheck console for detailed error information.`);\n            }\n          },\n          children: \"\\uD83E\\uDDEA Test Contracts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 929,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"created-markets-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDFAF Created Prediction Markets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"view-clob-button\",\n          onClick: () => {\n            // Navigate to CLOB trading page\n            window.location.href = '/trading';\n          },\n          children: \"\\uD83D\\uDCCA Go to CLOB Trading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"markets-list\",\n        children: (() => {\n          const createdMarkets = JSON.parse(localStorage.getItem('createdMarkets') || '[]');\n          if (createdMarkets.length === 0) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-markets\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No prediction markets created yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Select feeds above and click \\\"\\uD83C\\uDFAF Create Prediction Market (OFFLINE)\\\" to create a mock prediction market for testing. No blockchain transaction will occur.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"warning-text\",\n                children: \"\\u26A0\\uFE0F This is currently in offline mode for testing. Markets created are stored locally and can be used to test the CLOB trading interface.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1253,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1250,\n              columnNumber: 17\n            }, this);\n          }\n          return createdMarkets.map((market, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"market-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"market-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Market #\", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"market-status\",\n                children: new Date(market.settleTs * 1000) > new Date() ? '🟡 Active' : '🔴 Settled'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"market-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Symbols:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: market.symbols.join(', ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1270,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Strike Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1273,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: [\"$\", safeFormatUnits(market.strike, 18)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1274,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Price Band:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: [\"$\", safeFormatUnits(market.lower, 18), \" - $\", safeFormatUnits(market.upper, 18)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1278,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Band Width:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: [market.bandBps / 100, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1284,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1282,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Settlement:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: new Date(market.settleTs * 1000).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1288,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1286,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Market Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value address\",\n                  children: [market.market.slice(0, 6), \"...\", market.market.slice(-4)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1292,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1290,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"market-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"trade-button\",\n                onClick: () => {\n                  // Navigate to CLOB trading with this market\n                  localStorage.setItem('selectedMarket', JSON.stringify(market));\n                  window.location.href = '/trading';\n                },\n                children: \"\\uD83D\\uDE80 Trade This Market\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1299,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 17\n            }, this)]\n          }, market.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 15\n          }, this));\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 7\n    }, this), selectedFeeds.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"basket-calculator\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculator-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA ETF Basket Calculator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculator-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"refresh-basket-button\",\n            onClick: calculateBasketPrice,\n            disabled: selectedFeeds.length === 0,\n            children: \"\\uD83D\\uDD04 Refresh Basket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"toggle-calculator-button\",\n            onClick: () => setShowBasketCalculator(!showBasketCalculator),\n            children: [showBasketCalculator ? '🔽 Hide' : '🔼 Show', \" Calculator\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 11\n      }, this), showBasketCalculator && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculator-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basket-price-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-main\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label\",\n              children: \"Basket NAV:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1343,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"value\",\n              children: basketPrice ? `$${basketPrice.toFixed(4)}` : selectedFeeds.some(f => f.currentPrice === undefined) ? 'Loading prices...' : 'No valid prices'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1344,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"debug-info\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Selected feeds: \", selectedFeeds.length, \" | Feeds with prices: \", selectedFeeds.filter(f => f.currentPrice !== undefined && f.currentPrice !== null).length, \" | Status: \", basketPrice ? 'Calculated' : 'Waiting for prices']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1353,\n            columnNumber: 17\n          }, this), basketPrice && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-bands\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"band-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"band-label\",\n                children: \"5% Band:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1364,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"band-range\",\n                children: [\"$\", (_calculatePriceBands = calculatePriceBands(basketPrice, 500)) === null || _calculatePriceBands === void 0 ? void 0 : _calculatePriceBands.lower.toFixed(4), \" - $\", (_calculatePriceBands2 = calculatePriceBands(basketPrice, 500)) === null || _calculatePriceBands2 === void 0 ? void 0 : _calculatePriceBands2.upper.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1365,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1363,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"band-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"band-label\",\n                children: \"10% Band:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1370,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"band-range\",\n                children: [\"$\", (_calculatePriceBands3 = calculatePriceBands(basketPrice, 1000)) === null || _calculatePriceBands3 === void 0 ? void 0 : _calculatePriceBands3.lower.toFixed(4), \" - $\", (_calculatePriceBands4 = calculatePriceBands(basketPrice, 1000)) === null || _calculatePriceBands4 === void 0 ? void 0 : _calculatePriceBands4.upper.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1371,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1362,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1341,\n          columnNumber: 15\n        }, this), basketCalculation && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"basket-composition\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Basket Composition\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1382,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"composition-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Asset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1385,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1386,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Weight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1387,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Contribution\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1388,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1384,\n              columnNumber: 21\n            }, this), basketCalculation.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"composition-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"asset-symbol\",\n                children: item.symbol\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1392,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"asset-price\",\n                children: [\"$\", item.price.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1393,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"asset-weight\",\n                children: [(item.weight * 100).toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1394,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"asset-contribution\",\n                children: [\"$\", item.contribution.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1395,\n                columnNumber: 25\n              }, this)]\n            }, `basket-${item.symbol}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1391,\n              columnNumber: 23\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1383,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1381,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contract-integration\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDD17 Smart Contract Integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"integration-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Use these parameters with your \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"EtfFeedAggregator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 53\n              }, this), \" and \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: \"BasketPricer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 88\n              }, this), \" contracts:\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1406,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contract-params\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"param-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Symbols Array:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1410,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n                  className: \"param-value\",\n                  children: JSON.stringify(selectedFeeds.map(f => f.name.split('/')[0]))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1411,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1409,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"param-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Weights (1e18):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1417,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n                  className: \"param-value\",\n                  children: JSON.stringify(selectedFeeds.map(f => Math.floor((f.weight || 1 / selectedFeeds.length) * 1e18)))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1418,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1416,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"param-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Feed Addresses:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1424,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"code\", {\n                  className: \"param-value\",\n                  children: JSON.stringify(selectedFeeds.map(f => f.address))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contract-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"copy-params-button\",\n                onClick: () => {\n                  const params = {\n                    symbols: selectedFeeds.map(f => f.name.split('/')[0]),\n                    weights: selectedFeeds.map(f => Math.floor((f.weight || 1 / selectedFeeds.length) * 1e18)),\n                    addresses: selectedFeeds.map(f => f.address),\n                    basketPrice: basketPrice,\n                    timestamp: new Date().toISOString()\n                  };\n                  navigator.clipboard.writeText(JSON.stringify(params, null, 2));\n                  alert('Contract parameters copied to clipboard!');\n                },\n                children: \"\\uD83D\\uDCCB Copy Contract Params\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1432,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1431,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1405,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1403,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1318,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"help-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCA1 How to Use\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"help-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1. Connect Wallet:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1461,\n            columnNumber: 13\n          }, this), \" Connect your Web3 wallet to view live prices\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"2. Select Feeds:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 13\n          }, this), \" Click on feeds to select them for your project\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1463,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"3. Copy Addresses:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1467,\n            columnNumber: 13\n          }, this), \" Use the copy button to get the contract address\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"4. Export Selection:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1470,\n            columnNumber: 13\n          }, this), \" Download your selected feeds as JSON\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"5. ETF Basket Calculator:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 13\n          }, this), \" Calculate weighted basket prices and price bands\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"6. Smart Contract Integration:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 13\n          }, this), \" Get ready-to-use parameters for your contracts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83C\\uDFD7\\uFE0F ETF Prediction Market Architecture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1480,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"help-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"EtfFeedAggregator:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 13\n          }, this), \" Manages multiple Chainlink price feeds with staleness checks\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"BasketPricer:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1486,\n            columnNumber: 13\n          }, this), \" Calculates weighted basket prices and price bands for prediction markets\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"EtfPredictionMarket:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1489,\n            columnNumber: 13\n          }, this), \" Creates markets on whether ETF prices stay within specified bands\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"help-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"PredictionMarketVault:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1492,\n            columnNumber: 13\n          }, this), \" Manages collateral and payouts for prediction markets\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1491,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1481,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1457,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 705,\n    columnNumber: 5\n  }, this);\n}\n_s(ChainlinkFeeds, \"yPnhEUpEmklUjmUYlR8QhEIWhKg=\");\n_c = ChainlinkFeeds;\nexport default ChainlinkFeeds;\nvar _c;\n$RefreshReg$(_c, \"ChainlinkFeeds\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","ethers","jsxDEV","_jsxDEV","Fragment","_Fragment","ChainlinkFeeds","account","provider","signer","isConnected","currentNetwork","_s","_availableFeeds$curre","_calculatePriceBands","_calculatePriceBands2","_calculatePriceBands3","_calculatePriceBands4","feeds","setFeeds","selectedFeeds","setSelectedFeeds","loading","setLoading","isFetching","setIsFetching","searchTerm","setSearchTerm","filterCategory","setFilterCategory","basketPrice","setBasketPrice","basketCalculation","setBasketCalculation","showBasketCalculator","setShowBasketCalculator","availableFeeds","address","name","description","decimals","category","weight","chainlinkABI","CONTRACT_ADDRESSES","basketPricer","feedAggregator","predictionMarketFactory","claimTokens","collateral","basketPricerABI","feedAggregatorABI","predictionMarketFactoryABI","predictionMarketABI","chainId","console","log","networkFeeds","validFeeds","filter","feed","checksummedAddress","getAddress","error","forEach","weightType","addresses","map","f","uniqueAddresses","Set","length","size","uniqueFeeds","index","indexOf","safeNumberConversion","value","Number","parsed","parseFloat","isNaN","safeFormatUnits","bigIntValue","parseUnits","formatUnits","toString","warn","getLivePrice","feedAddress","validAddress","addressError","contract","Contract","roundData","latestRoundData","answerNumber","answer","decimalsNumber","price","Math","pow","message","code","data","refreshPrices","updatedFeeds","Promise","all","currentPrice","feedError","toggleFeedSelection","prev","isSelected","some","feedWithWeight","filteredFeeds","matchesSearch","toLowerCase","includes","matchesCategory","getCategoryDisplayName","categories","getRegisteredFeeds","owner","testSymbols","getContractPrices","symbols","JSON","stringify","result","getPrices","prices","updatedAts","reason","iface","Interface","decodedError","parseError","decodeError","createPredictionMarket","weights","bandBps","settleDays","Array","isArray","Error","s","w","settleTs","floor","Date","now","mockEtfPrice","calculateBasketPrice","strike1e18","bandMultiplier","strikeNumber","lowerNumber","upperNumber","lower1e18","upper1e18","resolve","setTimeout","mockMarketAddress","random","substr","mockVaultAddress","market","vault","withinId","outsideId","strike","lower","upper","stack","constructor","calculateContractBasketPrice","weights1e18","quoteAndBounds","etfPrice","totalWeight","weightedPrice","calculations","undefined","contribution","push","symbol","split","calculatePriceBands","band","feedsLength","hasProvider","isLoading","feedsWithPrices","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","onClick","disabled","version","slice","toFixed","stopPropagation","then","navigator","clipboard","writeText","alert","feedData","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","registeredFeeds","join","reduce","sum","original","converted","allValid","every","gt","i","valid","callError","toLocaleString","newMarket","id","createdAt","isMock","localStorage","setItem","parse","getItem","basketContract","aggregatorContract","contractPrices","contractBasket","lowerBand","upperBand","window","location","createdMarkets","item","params","timestamp","toISOString","_c","$RefreshReg$"],"sources":["/Users/raymeind/mini-etf/frontend/src/ChainlinkFeeds.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { ethers } from 'ethers';\nimport './ChainlinkFeeds.css';\n\nfunction ChainlinkFeeds({ account, provider, signer, isConnected, currentNetwork }) {\n  const [feeds, setFeeds] = useState([]);\n  const [selectedFeeds, setSelectedFeeds] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isFetching, setIsFetching] = useState(false); // Prevent multiple simultaneous fetches\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [basketPrice, setBasketPrice] = useState(null);\n  const [basketCalculation, setBasketCalculation] = useState(null);\n  const [showBasketCalculator, setShowBasketCalculator] = useState(false);\n\n  // Common Chainlink price feeds for different networks - Optimized for ETF Basket Trading\n  const availableFeeds = {\n    '0x5': [ // Goerli\n      { address: '0xD4a33860578De61DBAbDc8BFdb98FD742fA7028e', name: 'ETH/USD', description: 'Ethereum to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 },\n      { address: '0x779877A7B0D9E8603169DdbD7836e478b4624789', name: 'LINK/USD', description: 'Chainlink to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.20 },\n      { address: '0xA39434A63A52E749F02807ae27335515BA9b2F6F', name: 'BTC/USD', description: 'Bitcoin to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 }\n    ], \n    '0xaa36a7': [ // Sepolia\n      { address: '0x694AA1769357215DE4FAC081bf1f309aDC325306', name: 'ETH/USD', description: 'Ethereum to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 },\n      { address: '0xc59E3633BAAC79493d08e8bD3f9731fD61B3C326', name: 'LINK/USD', description: 'Chainlink to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.20 },\n      { address: '0x1b44F3514812d835EB1BDB2acE6093a1F3e060A9', name: 'BTC/USD', description: 'Bitcoin to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 }\n    ],\n    '0x13881': [ // Mumbai\n      { address: '0x0715A7794a1dc8e42615F059dD6e406A6594651A', name: 'ETH/USD', description: 'Ethereum to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 },\n      { address: '0x12162c3E810393dECEc62aA165f3Df2c08FbF4E8', name: 'LINK/USD', description: 'Chainlink to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.20 },\n      { address: '0x007A22900a3B98143368Bd7874Bc93c557e4e408', name: 'BTC/USD', description: 'Bitcoin to USD Price Feed', decimals: 8, category: 'crypto', weight: 0.40 }\n    ]\n  };\n\n  // Chainlink ABI for price feeds\n  const chainlinkABI = [\n    \"function latestRoundData() external view returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)\",\n    \"function decimals() external view returns (uint8)\",\n    \"function description() external view returns (string memory)\"\n  ];\n\n  // Your deployed contract addresses\n  const CONTRACT_ADDRESSES = {\n    basketPricer: '0xFfc7B12479ab107Ce0D7A3efbd505D18A5001FF1',\n    feedAggregator: '0x3BE15977b7653eC1EBa462bdB1ef30Bdc3267E74',\n    predictionMarketFactory: '0x29d1eBDa71C3d2B62CA2b6F275B1658077bB09DD',\n    claimTokens: '0x31d1e2d63169cC9e9910DDe53c62097bB5eE01Da',\n    collateral: '0x0000000000000000000000000000000000000000' // TODO: Add your USDC/collateral address\n  };\n\n  // Contract ABIs\n  const basketPricerABI = [\n    \"function calculateWeightedBasketPrice(string[] calldata symbols, int256[] calldata w1e18) external view returns (int256 etfPrice)\",\n    \"function boundsForBand(int256 etfPrice, uint16 bandBps) external pure returns (int256 lower1e18, int256 upper1e18)\",\n    \"function quoteAndBounds(string[] calldata symbols, int256[] calldata w1e18, uint16 bandBps) external view returns (int256 etfPrice, int256 lower, int256 upper)\"\n  ];\n\n  const feedAggregatorABI = [\n    \"function getPrices(string[] calldata symbols) external view returns (int256[] memory prices, uint8[] memory decimals, uint256[] memory updatedAts)\",\n    \"function addFeedMapping(string memory symbol, address aggregator, uint48 maxDelay) external\",\n    \"function owner() external view returns (address)\",\n    \"error UnknownFeed(string symbol)\",\n    \"error StalePrice(string symbol, uint256 updatedAt, uint256 nowTs, uint256 maxDelay)\"\n  ];\n\n  const predictionMarketFactoryABI = [\n    \"function create(string[] calldata symbols, int256[] calldata w1e18, uint16 bandBps, uint64 settleTs) external returns (address mkt, address vault)\",\n    \"function marketsByCreator(address creator) external view returns (address[] memory)\",\n    \"function allMarkets() external view returns (address[] memory)\",\n    \"event MarketCreated(address indexed market, address indexed creator, address vault, uint256 withinId, uint256 outsideId, int256 strike1e18, int256 lower1e18, int256 upper1e18, uint16 bandBps, uint64 settleTs)\"\n  ];\n\n  const predictionMarketABI = [\n    \"function symbols() external view returns (string[] memory)\",\n    \"function w1e18() external view returns (int256[] memory)\",\n    \"function strike() external view returns (int256)\",\n    \"function lower() external view returns (int256)\",\n    \"function upper() external view returns (int256)\",\n    \"function bandBps() external view returns (uint16)\",\n    \"function settleTs() external view returns (uint64)\",\n    \"function outcome() external view returns (uint8)\",\n    \"function finalPrice() external view returns (int256)\",\n    \"function settle() external\"\n  ];\n\n  useEffect(() => {\n    if (currentNetwork && currentNetwork.chainId) {\n      console.log('Network changed, loading feeds for chain ID:', currentNetwork.chainId);\n      const networkFeeds = availableFeeds[currentNetwork.chainId] || [];\n      console.log('Available feeds for this network:', networkFeeds);\n      \n      // Validate that all addresses are unique and properly formatted\n      const validFeeds = networkFeeds.filter(feed => {\n        try {\n          if (ethers) {\n            const checksummedAddress = ethers.getAddress(feed.address);\n            console.log(`✓ Valid address for ${feed.name}: ${feed.address} -> ${checksummedAddress}`);\n            return true;\n          }\n          console.log(`✗ No ethers available for ${feed.name}`);\n          return false;\n        } catch (error) {\n          console.error(`✗ Invalid address for feed ${feed.name}:`, feed.address, error);\n          return false;\n        }\n      });\n      \n      console.log('Valid feeds after address validation:', validFeeds);\n      \n      // Debug: Check feed properties\n      validFeeds.forEach(feed => {\n        console.log(`Feed ${feed.name}:`, {\n          address: feed.address,\n          weight: feed.weight,\n          weightType: typeof feed.weight,\n          decimals: feed.decimals,\n          category: feed.category\n        });\n      });\n      \n      // Remove duplicates\n      const addresses = validFeeds.map(f => f.address);\n      const uniqueAddresses = new Set(addresses);\n      \n      if (addresses.length !== uniqueAddresses.size) {\n        console.error('Duplicate addresses found in feeds:', addresses);\n        // Remove duplicates by keeping only the first occurrence\n        const uniqueFeeds = validFeeds.filter((feed, index) => \n          addresses.indexOf(feed.address) === index\n        );\n        console.log('Setting feeds with duplicates removed:', uniqueFeeds);\n        setFeeds(uniqueFeeds);\n      } else {\n        console.log('Setting feeds (all addresses valid and unique):', validFeeds);\n        setFeeds(validFeeds);\n      }\n    }\n  }, [currentNetwork, ethers]);\n\n  // Utility function to safely convert any value to a number\n  const safeNumberConversion = (value) => {\n    if (typeof value === 'bigint') {\n      return Number(value);\n    }\n    if (typeof value === 'string') {\n      const parsed = parseFloat(value);\n      return isNaN(parsed) ? null : parsed;\n    }\n    if (typeof value === 'number' && !isNaN(value)) {\n      return value;\n    }\n    return null;\n  };\n\n  // Utility function to safely format BigInt or string values for display\n  const safeFormatUnits = (value, decimals = 18) => {\n    try {\n      if (typeof value === 'string') {\n        // If it's already a string, try to parse it using ethers\n        const bigIntValue = ethers.parseUnits(value, 0); // Parse as whole number\n        return ethers.formatUnits(bigIntValue, decimals);\n      } else if (typeof value === 'bigint') {\n        return ethers.formatUnits(value, decimals);\n      } else {\n        return value.toString();\n      }\n    } catch (error) {\n      console.warn('Error formatting value:', value, error);\n      return value.toString();\n    }\n  };\n\n  // Get live price from Chainlink feed\n  const getLivePrice = async (feedAddress) => {\n    if (!provider || !isConnected || !ethers) {\n      console.log('Cannot fetch price:', { provider: !!provider, isConnected, ethers: !!ethers });\n      return null;\n    }\n    \n    try {\n      // Validate and checksum the address\n      let validAddress;\n      try {\n        validAddress = ethers.getAddress(feedAddress);\n        console.log(`Original address: ${feedAddress}`);\n        console.log(`Checksummed address: ${validAddress}`);\n      } catch (addressError) {\n        console.error('Invalid address format:', addressError);\n        return null;\n      }\n      \n      console.log(`Fetching price for feed: ${validAddress}`);\n      const contract = new ethers.Contract(validAddress, chainlinkABI, provider);\n      \n      console.log('Contract created, fetching latestRoundData...');\n      const roundData = await contract.latestRoundData();\n      console.log('Round data received:', roundData);\n      \n      console.log('Fetching decimals...');\n      const decimals = await contract.decimals();\n      console.log('Decimals:', decimals);\n      \n      // Convert both answer and decimals to numbers - handle BigInt values\n      const answerNumber = safeNumberConversion(roundData.answer);\n      const decimalsNumber = safeNumberConversion(decimals);\n      \n      if (answerNumber === null) {\n        console.error('Could not convert answer to number:', roundData.answer);\n        return null;\n      }\n      \n      if (decimalsNumber === null) {\n        console.error('Could not convert decimals to number:', decimals);\n        return null;\n      }\n      \n      const price = answerNumber / Math.pow(10, decimalsNumber);\n      console.log(`Converted answer: ${answerNumber}, decimals: ${decimalsNumber}, calculated price: ${price}`);\n      \n      return price;\n    } catch (error) {\n      console.error('Error fetching price from feed:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data\n      });\n      return null;\n    }\n  };\n\n  // Refresh all feed prices\n  const refreshPrices = useCallback(async () => {\n    if (!isConnected || !ethers) {\n      console.error('Cannot refresh prices: not connected or ethers not available');\n      return;\n    }\n    \n    if (isFetching) {\n      console.log('Price fetch already in progress, skipping...');\n      return;\n    }\n    \n    setIsFetching(true);\n    setLoading(true);\n    \n    try {\n      console.log(`Starting price fetch for ${feeds.length} feeds...`);\n      const updatedFeeds = await Promise.all(\n        feeds.map(async (feed) => {\n          try {\n            console.log(`Fetching price for ${feed.name} (${feed.address})`);\n            const price = await getLivePrice(feed.address);\n            console.log(`Got price for ${feed.name}:`, price);\n            return { ...feed, currentPrice: price };\n          } catch (feedError) {\n            console.error(`Error fetching price for ${feed.name}:`, feedError);\n            return { ...feed, currentPrice: null };\n          }\n        })\n      );\n      console.log('All price fetches completed, updating feeds...');\n      setFeeds(updatedFeeds);\n    } catch (error) {\n      console.error('Error refreshing prices:', error);\n    } finally {\n      setLoading(false);\n      setIsFetching(false);\n    }\n  }, [feeds, isConnected, ethers, isFetching]);\n\n  // Toggle feed selection\n  const toggleFeedSelection = (feed) => {\n    console.log('Toggling feed selection:', {\n      feed,\n      weight: feed.weight,\n      weightType: typeof feed.weight\n    });\n    \n    setSelectedFeeds(prev => {\n      const isSelected = prev.some(f => f.address === feed.address);\n      if (isSelected) {\n        return prev.filter(f => f.address !== feed.address);\n      } else {\n        // Ensure the feed object has all necessary properties\n        const feedWithWeight = {\n          ...feed,\n          weight: feed.weight || (1 / (prev.length + 1)) // Fallback weight if not set\n        };\n        console.log('Adding feed with weight:', feedWithWeight);\n        return [...prev, feedWithWeight];\n      }\n    });\n  };\n\n  // Filter feeds based on search and category\n  const filteredFeeds = feeds.filter(feed => {\n    if (!feed || !feed.name || !feed.description) return false;\n    \n    const matchesSearch = feed.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         feed.description.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = filterCategory === 'all' || feed.category === filterCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  // Get category display name\n  const getCategoryDisplayName = (category) => {\n    const categories = {\n      'crypto': 'Cryptocurrencies',\n      'stablecoin': 'Stablecoins',\n      'forex': 'Forex',\n      'commodities': 'Commodities'\n    };\n    return categories[category] || category;\n  };\n\n  // Check what feeds are registered in your FeedAggregator contract\n  const getRegisteredFeeds = async () => {\n    if (!provider || !isConnected) {\n      console.log('Cannot check registered feeds: not connected');\n      return null;\n    }\n    \n    try {\n      console.log('Checking registered feeds in FeedAggregator contract...');\n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n      \n      // Try to get the owner to verify contract is accessible\n      const owner = await contract.owner();\n      console.log('Contract owner:', owner);\n      \n      // Use the full symbol format that matches your contract mappings\n      const testSymbols = ['ETH/USD', 'BTC/USD', 'LINK/USD', 'USDC/USD', 'DAI/USD'];\n      console.log('Testing with full symbol format:', testSymbols);\n      \n      return { owner, testSymbols };\n    } catch (error) {\n      console.error('Error checking registered feeds:', error);\n      return null;\n    }\n  };\n\n  // Get prices from your deployed FeedAggregator contract\n  const getContractPrices = async (symbols) => {\n    if (!provider || !isConnected) {\n      console.log('Cannot fetch contract prices: not connected');\n      return null;\n    }\n    \n    try {\n      console.log('Fetching prices from FeedAggregator contract for symbols:', symbols);\n      console.log('Symbols type:', typeof symbols, 'Length:', symbols.length);\n      console.log('Symbols content:', JSON.stringify(symbols));\n      \n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n      \n      const result = await contract.getPrices(symbols);\n      console.log('Contract prices result:', result);\n      \n      return {\n        prices: result.prices,\n        decimals: result.decimals,\n        updatedAts: result.updatedAts\n      };\n    } catch (error) {\n      console.error('Error fetching contract prices:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data,\n        reason: error.reason\n      });\n      \n      // Try to decode the revert reason if available\n      if (error.data && error.data !== '0x') {\n        try {\n          const iface = new ethers.Interface(feedAggregatorABI);\n          const decodedError = iface.parseError(error.data);\n          console.error('Decoded error:', decodedError);\n        } catch (decodeError) {\n          console.error('Could not decode error data:', decodeError);\n        }\n      }\n      \n      return null;\n    }\n  };\n\n  // Create a prediction market for the selected ETF basket (OFFLINE MOCK VERSION)\n  const createPredictionMarket = async (symbols, weights, bandBps = 500, settleDays = 7) => {\n    console.log('=== createPredictionMarket FUNCTION STARTED (OFFLINE MODE) ===');\n    console.log('Parameters received:', { symbols, weights, bandBps, settleDays });\n    \n    try {\n      console.log('Creating prediction market with:', { symbols, weights, bandBps, settleDays });\n      \n      // Input validation\n      if (!Array.isArray(symbols) || symbols.length === 0) {\n        throw new Error(`Invalid symbols: ${JSON.stringify(symbols)}. Must be a non-empty array.`);\n      }\n      if (!Array.isArray(weights) || weights.length === 0) {\n        throw new Error(`Invalid weights: ${JSON.stringify(weights)}. Must be a non-empty array.`);\n      }\n      if (symbols.length !== weights.length) {\n        throw new Error(`Mismatch: symbols length (${symbols.length}) != weights length (${weights.length})`);\n      }\n      \n      // Debug: Log the exact data being processed\n      console.log('createPredictionMarket input validation passed:');\n      console.log('- Symbols:', symbols);\n      console.log('- Weights:', weights);\n      console.log('- Symbols types:', symbols.map(s => typeof s));\n      console.log('- Weights types:', weights.map(w => typeof w));\n      console.log('- Weights values:', weights.map(w => w));\n      \n      // Calculate settlement timestamp (current time + settleDays)\n      const settleTs = Math.floor(Date.now() / 1000) + (settleDays * 24 * 60 * 60);\n      \n      // Calculate mock ETF price using the frontend calculation\n      console.log('About to call calculateBasketPrice...');\n      const mockEtfPrice = calculateBasketPrice();\n      console.log('calculateBasketPrice returned:', mockEtfPrice);\n      console.log('Type of mockEtfPrice:', typeof mockEtfPrice);\n      \n      if (!mockEtfPrice) {\n        throw new Error('Could not calculate ETF basket price - function returned null/undefined');\n      }\n      \n      if (isNaN(mockEtfPrice)) {\n        throw new Error(`ETF basket price is NaN: ${mockEtfPrice}`);\n      }\n      \n      // Convert to 1e18 format for consistency\n      const strike1e18 = ethers.parseUnits(mockEtfPrice.toString(), 18);\n      \n      // Calculate price bands (5% by default)\n      const bandMultiplier = bandBps / 10000; // Convert BPS to decimal\n      \n      // Convert everything to numbers for calculation, then back to BigInt\n      const strikeNumber = Number(ethers.formatUnits(strike1e18, 18));\n      const lowerNumber = strikeNumber * (1 - bandMultiplier);\n      const upperNumber = strikeNumber * (1 + bandMultiplier);\n      \n      // Convert back to 1e18 format\n      const lower1e18 = ethers.parseUnits(lowerNumber.toString(), 18);\n      const upper1e18 = ethers.parseUnits(upperNumber.toString(), 18);\n      \n      console.log('Mock market creation parameters:', {\n        symbols,\n        weights,\n        bandBps,\n        settleTs,\n        strike1e18: strike1e18.toString(),\n        lower1e18: lower1e18.toString(),\n        upper1e18: upper1e18.toString()\n      });\n      \n      // Simulate a delay to mimic blockchain transaction\n      console.log('Simulating blockchain transaction...');\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Generate mock addresses\n      const mockMarketAddress = `0x${Math.random().toString(16).substr(2, 40)}`;\n      const mockVaultAddress = `0x${Math.random().toString(16).substr(2, 40)}`;\n      \n      console.log('Mock addresses generated:', {\n        market: mockMarketAddress,\n        vault: mockVaultAddress\n      });\n      \n      // Return mock market data\n      return {\n        market: mockMarketAddress,\n        vault: mockVaultAddress,\n        withinId: '1', // Mock token ID for \"within band\" outcome\n        outsideId: '2', // Mock token ID for \"outside band\" outcome\n        strike: strike1e18,\n        lower: lower1e18,\n        upper: upper1e18,\n        bandBps: bandBps,\n        settleTs: settleTs\n      };\n    } catch (error) {\n      console.error('=== ERROR IN createPredictionMarket ===');\n      console.error('Error message:', error.message);\n      console.error('Error stack:', error.stack);\n      console.error('Error type:', error.constructor.name);\n      console.error('Full error object:', error);\n      return null;\n    }\n  };\n\n  // Calculate ETF basket price using your deployed BasketPricer contract\n  const calculateContractBasketPrice = async (symbols, weights) => {\n    if (!provider || !isConnected) {\n      console.log('Cannot calculate contract basket price: not connected');\n      return null;\n    }\n    \n    try {\n      console.log('Calculating basket price using BasketPricer contract');\n      console.log('Symbols:', symbols);\n      console.log('Weights (1e18):', weights);\n      console.log('Symbols type:', typeof symbols, 'Length:', symbols.length);\n      console.log('Weights type:', typeof weights, 'Length:', weights.length);\n      \n      const contract = new ethers.Contract(CONTRACT_ADDRESSES.basketPricer, basketPricerABI, provider);\n      \n      // Convert weights to 1e18 format (using ethers.parseUnits for compatibility)\n      const weights1e18 = weights.map(w => ethers.parseUnits(w.toString(), 18));\n      console.log('Converted weights1e18:', weights1e18);\n      console.log('Weights1e18 type:', typeof weights1e18, 'Length:', weights1e18.length);\n      \n      // Validate inputs before calling contract\n      if (symbols.length === 0) {\n        throw new Error('Symbols array is empty');\n      }\n      if (weights1e18.length === 0) {\n        throw new Error('Weights array is empty');\n      }\n      if (symbols.length !== weights1e18.length) {\n        throw new Error(`Symbols length (${symbols.length}) != weights length (${weights1e18.length})`);\n      }\n      \n      console.log('Calling contract.quoteAndBounds with:', {\n        symbols,\n        weights1e18: weights1e18.map(w => w.toString()),\n        bandBps: 500\n      });\n      \n      const result = await contract.quoteAndBounds(symbols, weights1e18, 500); // 5% band\n      console.log('Contract basket calculation result:', result);\n      \n      return {\n        etfPrice: result.etfPrice,\n        lower: result.lower,\n        upper: result.upper\n      };\n    } catch (error) {\n      console.error('Error calculating contract basket price:', error);\n      console.error('Error details:', {\n        message: error.message,\n        code: error.code,\n        data: error.data,\n        reason: error.reason\n      });\n      \n      // Try to decode the revert reason if available\n      if (error.data && error.data !== '0x') {\n        try {\n          const iface = new ethers.Interface(basketPricerABI);\n          const decodedError = iface.parseError(error.data);\n          console.error('Decoded error:', decodedError);\n        } catch (decodeError) {\n          console.error('Could not decode error data:', decodeError);\n        }\n      }\n      \n      return null;\n    }\n  };\n\n  // Calculate ETF basket price using selected feeds and weights (Frontend calculation)\n  const calculateBasketPrice = useCallback(() => {\n    console.log('calculateBasketPrice called with selectedFeeds:', selectedFeeds);\n    \n    if (selectedFeeds.length === 0) {\n      console.log('No selected feeds, returning null');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n    \n    let totalWeight = 0;\n    let weightedPrice = 0;\n    const calculations = [];\n    \n    // Filter feeds that have valid prices\n    const validFeeds = selectedFeeds.filter(feed => \n      feed.currentPrice !== undefined && \n      feed.currentPrice !== null && \n      !isNaN(feed.currentPrice) &&\n      feed.currentPrice > 0 &&\n      typeof feed.currentPrice === 'number'\n    );\n    \n    console.log('Valid feeds with prices:', validFeeds.length, 'out of', selectedFeeds.length);\n    \n    if (validFeeds.length === 0) {\n      console.log('No valid feeds with prices, returning null');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n    \n    validFeeds.forEach(feed => {\n      const weight = Number(feed.weight) || (1 / validFeeds.length); // Ensure weight is a number\n      const price = Number(feed.currentPrice); // Ensure it's a number\n      \n      console.log(`Processing feed ${feed.name}:`, { weight, price, currentPrice: feed.currentPrice });\n      \n      // Additional safety check for BigInt or other non-number types\n      if (typeof price !== 'number' || isNaN(price)) {\n        console.warn(`Skipping feed ${feed.name} with invalid price:`, feed.currentPrice);\n        return;\n      }\n      \n      if (typeof weight !== 'number' || isNaN(weight)) {\n        console.warn(`Skipping feed ${feed.name} with invalid weight:`, feed.weight);\n        return;\n      }\n      \n      const contribution = price * weight;\n      \n      calculations.push({\n        symbol: feed.name.split('/')[0],\n        price: price,\n        weight: weight,\n        contribution: contribution,\n        decimals: feed.decimals\n      });\n      \n      weightedPrice += contribution;\n      totalWeight += weight;\n    });\n    \n    if (totalWeight > 0 && calculations.length > 0) {\n      const basketPrice = weightedPrice / totalWeight;\n      console.log('Basket calculation successful:', {\n        validFeeds: validFeeds.length,\n        totalWeight,\n        weightedPrice,\n        basketPrice,\n        calculations\n      });\n      setBasketPrice(basketPrice);\n      setBasketCalculation(calculations);\n      return basketPrice; // Return the calculated price\n    } else {\n      console.log('Basket calculation failed - no valid calculations');\n      setBasketPrice(null);\n      setBasketCalculation(null);\n      return null;\n    }\n  }, [selectedFeeds]);\n\n  // Calculate price bands for prediction markets\n  const calculatePriceBands = (price, bandBps = 500) => { // Default 5% band\n    if (!price) return null;\n    \n    const band = bandBps / 10000; // Convert basis points to decimal\n    const lower = price * (1 - band);\n    const upper = price * (1 + band);\n    \n    return { lower, upper, bandBps };\n  };\n\n  // Auto-fetch prices when feeds are loaded and wallet is connected\n  useEffect(() => {\n    if (feeds.length > 0 && isConnected && provider && !loading && !isFetching) {\n      console.log('Auto-fetching prices for feeds:', feeds.length);\n      console.log('Provider available:', !!provider);\n      console.log('Wallet connected:', isConnected);\n      console.log('Current loading state:', loading);\n      console.log('Current fetching state:', isFetching);\n      refreshPrices();\n    } else {\n      console.log('Auto-fetch conditions not met:', {\n        feedsLength: feeds.length,\n        isConnected,\n        hasProvider: !!provider,\n        isLoading: loading,\n        isFetching: isFetching\n      });\n    }\n  }, [feeds, isConnected, provider, refreshPrices, loading, isFetching]);\n\n  // Auto-calculate basket price when selected feeds or prices change\n  useEffect(() => {\n    if (selectedFeeds.length > 0) {\n      // Check if we have prices for all selected feeds\n      const feedsWithPrices = selectedFeeds.filter(feed => \n        feed.currentPrice !== undefined && feed.currentPrice !== null\n      );\n      \n      if (feedsWithPrices.length === selectedFeeds.length) {\n        calculateBasketPrice();\n      }\n    }\n  }, [selectedFeeds, calculateBasketPrice]);\n\n  // Error boundary for the component\n  if (!ethers) {\n    return (\n      <div className=\"chainlink-feeds\">\n        <div className=\"error-message\">\n          <h2>⚠️ Error Loading Chainlink Feeds</h2>\n          <p>Ethers library is not available. Please check your dependencies.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chainlink-feeds\">\n      <div className=\"feeds-header\">\n        <h2>🔗 Chainlink Price Feeds</h2>\n        <p>Select and monitor real-time price feeds from Chainlink oracles</p>\n      </div>\n\n      {/* Network Info */}\n      {currentNetwork && (\n        <div className=\"network-info-banner\">\n          <span className=\"network-badge\">\n            🌐 {currentNetwork.name}\n          </span>\n          <span className=\"chain-id-badge\">\n            Chain ID: {currentNetwork.chainId}\n          </span>\n          {!isConnected && (\n            <span className=\"warning-badge\">\n              ⚠️ Connect wallet to view live prices\n            </span>\n          )}\n          {isConnected && (\n            <span className=\"status-badge\">\n              ✅ Wallet Connected\n            </span>\n          )}\n        </div>\n      )}\n\n      {/* Controls */}\n      <div className=\"feeds-controls\">\n        <div className=\"search-filter\">\n          <input\n            type=\"text\"\n            placeholder=\"Search feeds...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"search-input\"\n          />\n          \n          <select\n            value={filterCategory}\n            onChange={(e) => setFilterCategory(e.target.value)}\n            className=\"category-filter\"\n          >\n            <option value=\"all\">All Categories</option>\n            <option value=\"crypto\">Cryptocurrencies</option>\n            <option value=\"stablecoin\">Stablecoins</option>\n            <option value=\"forex\">Forex</option>\n            <option value=\"commodities\">Commodities</option>\n          </select>\n        </div>\n\n        <div className=\"refresh-section\">\n          {!isConnected ? (\n            <div className=\"connect-prompt\">\n              <span className=\"warning-text\">⚠️ Connect your wallet to view live prices</span>\n            </div>\n          ) : (\n            <>\n              <button\n                onClick={refreshPrices}\n                disabled={loading}\n                className=\"refresh-button primary\"\n              >\n                {loading ? '🔄 Refreshing...' : '🔄 Refresh Prices'}\n              </button>\n              \n              <div className=\"refresh-status\">\n                {loading ? (\n                  <span className=\"loading-indicator\">⏳ Fetching prices for {feeds.length} feeds...</span>\n                ) : (\n                  <span className=\"status-indicator\">\n                    {feeds.filter(f => f.currentPrice !== undefined && f.currentPrice !== null).length} of {feeds.length} feeds have prices\n                  </span>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n        \n        {/* Debug Panel */}\n        <div className=\"debug-panel\">\n          <details>\n            <summary>🐛 Debug Info</summary>\n            <div className=\"debug-content\">\n              <div><strong>Provider:</strong> {provider ? 'Available' : 'Not Available'}</div>\n              <div><strong>Signer:</strong> {signer ? 'Available' : 'Not Available'}</div>\n              <div><strong>Connected:</strong> {isConnected ? 'Yes' : 'No'}</div>\n              <div><strong>Account:</strong> {account || 'None'}</div>\n              <div><strong>Network:</strong> {currentNetwork ? `${currentNetwork.name} (${currentNetwork.chainId})` : 'None'}</div>\n              <div><strong>Feeds Count:</strong> {feeds.length}</div>\n              <div><strong>Selected Feeds:</strong> {selectedFeeds.length}</div>\n              <div><strong>Ethers Version:</strong> {ethers ? ethers.version || 'Unknown' : 'Not Available'}</div>\n              <div><strong>Loading State:</strong> {loading ? 'Yes' : 'No'}</div>\n              <div><strong>Fetching State:</strong> {isFetching ? 'Yes' : 'No'}</div>\n              <div><strong>Available Feeds for Network:</strong> {currentNetwork ? availableFeeds[currentNetwork.chainId]?.length || 0 : 0}</div>\n            </div>\n          </details>\n        </div>\n        \n        {/* Contract Integration Panel */}\n        <div className=\"contract-panel\">\n          <details>\n            <summary>📋 Contract Integration</summary>\n            <div className=\"contract-content\">\n              <div><strong>BasketPricer:</strong> {CONTRACT_ADDRESSES.basketPricer}</div>\n              <div><strong>FeedAggregator:</strong> {CONTRACT_ADDRESSES.feedAggregator}</div>\n              <div><strong>Network:</strong> {currentNetwork ? currentNetwork.name : 'Unknown'}</div>\n              <div><strong>Integration Status:</strong> {isConnected ? '🟢 Ready' : '🔴 Connect Wallet'}</div>\n            </div>\n          </details>\n        </div>\n      </div>\n\n      {/* Feeds Grid */}\n      <div className=\"feeds-grid\">\n        {filteredFeeds.length === 0 ? (\n          <div className=\"no-feeds\">\n            <p>No feeds available for the current network</p>\n            <p>Switch to a supported testnet (Goerli, Sepolia, or Mumbai)</p>\n            {ethers && (\n              <div className=\"address-validation-info\">\n                <p><strong>Note:</strong> Some feeds may have been filtered out due to invalid addresses.</p>\n                <p>Check the console for specific address validation errors.</p>\n              </div>\n            )}\n          </div>\n        ) : (\n          filteredFeeds.map((feed, index) => {\n            if (!feed || !feed.address || !feed.name) return null;\n            \n            return (\n              <div\n                key={`${feed.address}-${index}`}\n                className={`feed-card ${selectedFeeds.some(f => f.address === feed.address) ? 'selected' : ''}`}\n                onClick={() => toggleFeedSelection(feed)}\n              >\n                <div className=\"feed-header\">\n                  <h3>{feed.name || 'Unknown Feed'}</h3>\n                  <span className=\"category-tag\">{getCategoryDisplayName(feed.category || 'unknown')}</span>\n                </div>\n                \n                <p className=\"feed-description\">{feed.description || 'No description available'}</p>\n                \n                <div className=\"feed-details\">\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Address:</span>\n                    <span className=\"value address\">\n                      {feed.address ? `${feed.address.slice(0, 6)}...${feed.address.slice(-4)}` : 'Invalid Address'}\n                    </span>\n                  </div>\n                  \n                  <div className=\"detail-row\">\n                    <span className=\"label\">Decimals:</span>\n                    <span className=\"value\">{feed.decimals || 8}</span>\n                  </div>\n                  \n                  <div className=\"detail-row\">\n                    <span className=\"label\">Weight:</span>\n                    <span className=\"value weight\">\n                      {((feed.weight || (1 / (feeds.length || 1))) * 100).toFixed(1)}%\n                    </span>\n                  </div>\n                  \n                  <div className=\"detail-row\">\n                    <span className=\"label\">Current Price:</span>\n                    <span className=\"value price\">\n                      {feed.currentPrice !== undefined && feed.currentPrice !== null && !isNaN(feed.currentPrice) && typeof feed.currentPrice === 'number' ? (\n                        `$${feed.currentPrice.toFixed(4)}`\n                      ) : (\n                        isConnected ? (\n                          <span className=\"loading-status\">\n                            {loading ? '⏳ Fetching...' : 'Loading...'} \n                            <button \n                              className=\"retry-button\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                getLivePrice(feed.address).then(price => {\n                                  const updatedFeeds = feeds.map(f => \n                                    f.address === feed.address ? { ...f, currentPrice: price } : f\n                                  );\n                                  setFeeds(updatedFeeds);\n                                });\n                              }}\n                            >\n                              🔄 Retry\n                            </button>\n                          </span>\n                        ) : 'Connect wallet'\n                      )}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"feed-actions\">\n                  <button\n                    className=\"select-button\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      toggleFeedSelection(feed);\n                    }}\n                  >\n                    {selectedFeeds.some(f => f.address === feed.address) ? '✓ Selected' : 'Select'}\n                  </button>\n                  \n                  <button\n                    className=\"copy-address-button\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      navigator.clipboard.writeText(feed.address);\n                      alert('Address copied to clipboard!');\n                    }}\n                  >\n                    📋 Copy\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* Selected Feeds Summary */}\n      {selectedFeeds.length > 0 && (\n        <div className=\"selected-feeds-summary\">\n          <h3>Selected Feeds ({selectedFeeds.length})</h3>\n          <div className=\"selected-feeds-list\">\n            {selectedFeeds.map((feed, index) => {\n              if (!feed || !feed.address) return null;\n              \n              return (\n                <div key={`selected-${feed.address}-${index}`} className=\"selected-feed-item\">\n                  <span className=\"feed-name\">{feed.name || 'Unknown Feed'}</span>\n                  <span className=\"feed-price\">\n                    {feed.currentPrice !== undefined && feed.currentPrice !== null && !isNaN(feed.currentPrice) && typeof feed.currentPrice === 'number' ? \n                      `$${feed.currentPrice.toFixed(4)}` : 'N/A'}\n                  </span>\n                  <button\n                    onClick={() => toggleFeedSelection(feed)}\n                    className=\"remove-button\"\n                  >\n                    ✕\n                  </button>\n                </div>\n              );\n            })}\n          </div>\n          \n          <div className=\"summary-actions\">\n            <button\n              className=\"export-button\"\n              onClick={() => {\n                const feedData = selectedFeeds.map(f => ({\n                  name: f.name,\n                  address: f.address,\n                  description: f.description,\n                  decimals: f.decimals,\n                  category: f.category\n                }));\n                const blob = new Blob([JSON.stringify(feedData, null, 2)], { type: 'application/json' });\n                const url = URL.createObjectURL(blob);\n                const a = document.createElement('a');\n                a.href = url;\n                a.download = 'selected-chainlink-feeds.json';\n                a.click();\n                URL.revokeObjectURL(url);\n              }}\n            >\n              📥 Export Selected Feeds\n            </button>\n            \n            <button\n              className=\"clear-button\"\n              onClick={() => setSelectedFeeds([])}\n            >\n              🗑️ Clear All\n            </button>\n            \n            <button\n              className=\"check-feeds-button\"\n              onClick={async () => {\n                try {\n                  const registeredFeeds = await getRegisteredFeeds();\n                  if (registeredFeeds) {\n                    alert(`Contract Status:\\n\\nOwner: ${registeredFeeds.owner}\\nTest Symbols: ${registeredFeeds.testSymbols.join(', ')}\\n\\nNote: These are test symbols. Your contract may not have these feeds registered yet.`);\n                  } else {\n                    alert('Could not check contract status. Check console for details.');\n                  }\n                } catch (error) {\n                  console.error('Check feeds failed:', error);\n                  alert(`Check feeds failed: ${error.message}`);\n                }\n              }}\n            >\n              🔍 Check Contract Status\n            </button>\n            \n            <button\n              className=\"test-weights-button\"\n              onClick={() => {\n                if (selectedFeeds.length === 0) {\n                  alert('Please select some feeds first');\n                  return;\n                }\n                \n                const symbols = selectedFeeds.map(f => f.name);\n                let weights = selectedFeeds.map(f => f.weight || (1 / selectedFeeds.length));\n                \n                // Normalize weights to sum to 1\n                const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n                weights = weights.map(w => w / totalWeight);\n                \n                console.log('Weight test:', {\n                  selectedFeeds: selectedFeeds.map(f => ({ name: f.name, weight: f.weight })),\n                  symbols,\n                  weights,\n                  totalWeight: weights.reduce((sum, w) => sum + w, 0)\n                });\n                \n                // Test weight conversion\n                try {\n                  const weights1e18 = weights.map(w => ethers.parseUnits(w.toString(), 18));\n                  console.log('Weight conversion test:', {\n                    original: weights,\n                    converted: weights1e18.map(w => w.toString()),\n                    allValid: weights1e18.every(w => w.gt(0))\n                  });\n                  alert('Weight test successful! Check console for details.');\n                } catch (error) {\n                  console.error('Weight conversion failed:', error);\n                  alert(`Weight conversion failed: ${error.message}`);\n                }\n              }}\n            >\n              🧪 Test Weights\n            </button>\n            \n            <button\n              className=\"create-market-button\"\n              onClick={async () => {\n                if (selectedFeeds.length === 0) {\n                  alert('Please select some feeds first to create a prediction market');\n                  return;\n                }\n                \n                const symbols = selectedFeeds.map(f => f.name);\n                let weights = selectedFeeds.map(f => {\n                  const weight = f.weight || (1 / selectedFeeds.length);\n                  console.log(`Create Market - Feed ${f.name}: weight=${f.weight}, fallback=${1 / selectedFeeds.length}, final=${weight}`);\n                  return weight;\n                });\n                \n                // Validate inputs before creating market\n                if (symbols.length === 0) {\n                  alert('No symbols selected. Please select some feeds first.');\n                  return;\n                }\n                \n                if (weights.some(w => w === null || w === undefined || isNaN(w) || w <= 0)) {\n                  alert('Invalid weights detected. All weights must be positive numbers.');\n                  return;\n                }\n                \n                // Normalize weights to sum to 1\n                const totalWeight = weights.reduce((sum, w) => sum + w, 0);\n                weights = weights.map(w => w / totalWeight);\n                \n                console.log('Creating prediction market for:', { symbols, weights });\n                console.log('Weight validation:', weights.map((w, i) => ({ index: i, weight: w, valid: w > 0 && !isNaN(w) })));\n                console.log('Normalized weights sum:', weights.reduce((sum, w) => sum + w, 0));\n                \n                // Debug: Check the exact data being passed\n                console.log('DEBUG - Symbols array:', symbols);\n                console.log('DEBUG - Symbols type:', typeof symbols, 'Length:', symbols.length);\n                console.log('DEBUG - Weights array:', weights);\n                console.log('DEBUG - Weights type:', typeof weights, 'Length:', weights.length);\n                console.log('DEBUG - Selected feeds:', selectedFeeds);\n                \n                try {\n                  // Test if function exists\n                  if (typeof createPredictionMarket !== 'function') {\n                    throw new Error(`createPredictionMarket is not a function! Type: ${typeof createPredictionMarket}`);\n                  }\n                  \n                  console.log('Function exists, calling createPredictionMarket...');\n                  console.log('About to call with:', { symbols, weights, bandBps: 500, settleDays: 7 });\n                  \n                  // Test the function call step by step\n                  let result;\n                  try {\n                    console.log('Step 1: Function call starting...');\n                    result = await createPredictionMarket(symbols, weights, 500, 7); // 5% band, 7 days\n                    console.log('Step 2: Function call completed, result:', result);\n                  } catch (callError) {\n                    console.error('Step 2: Function call failed:', callError);\n                    throw callError;\n                  }\n                  \n                  if (result) {\n                    alert(`🎯 Prediction Market Created! (OFFLINE MODE)\\n\\nMarket: ${result.market}\\nVault: ${result.vault}\\nWithin ID: ${result.withinId}\\nOutside ID: ${result.outsideId}\\nStrike: ${ethers.formatUnits(result.strike, 18)}\\nLower: ${ethers.formatUnits(result.lower, 18)}\\nUpper: ${ethers.formatUnits(result.upper, 18)}\\nBand: ${result.bandBps/100}%\\nSettle: ${new Date(result.settleTs * 1000).toLocaleString()}\\n\\nNote: This is a mock market for testing. No actual blockchain transaction occurred.`);\n                    \n                    // Store the created market for later use\n                    const newMarket = {\n                      id: Date.now(),\n                      market: result.market,\n                      vault: result.vault,\n                      symbols,\n                      weights,\n                      strike: result.strike.toString(), // Convert BigInt to string\n                      lower: result.lower.toString(), // Convert BigInt to string\n                      upper: result.upper.toString(), // Convert BigInt to string\n                      bandBps: result.bandBps,\n                      settleTs: result.settleTs,\n                      createdAt: Date.now(),\n                      isMock: true // Mark as mock market\n                    };\n                    \n                    // Store in localStorage for the CLOB page\n                    localStorage.setItem('createdMarkets', JSON.stringify([\n                      ...JSON.parse(localStorage.getItem('createdMarkets') || '[]'),\n                      newMarket\n                    ]));\n                    \n                    console.log('Mock market created and stored:', newMarket);\n                  } else {\n                    alert('Failed to create prediction market. Check console for details.');\n                  }\n                } catch (error) {\n                  console.error('=== BUTTON CLICK ERROR ===');\n                  console.error('Error message:', error.message);\n                  console.error('Error stack:', error.stack);\n                  console.error('Error type:', error.constructor.name);\n                  console.error('Full error object:', error);\n                  alert(`Create market failed: ${error.message}\\n\\nCheck console for detailed error information.`);\n                }\n              }}\n            >\n              🎯 Create Prediction Market (OFFLINE)\n            </button>\n            \n            <button\n              className=\"contract-test-button\"\n              onClick={() => {\n                console.log('=== FUNCTION ACCESSIBILITY TEST ===');\n                console.log('createPredictionMarket:', typeof createPredictionMarket);\n                console.log('calculateContractBasketPrice:', typeof calculateContractBasketPrice);\n                console.log('getRegisteredFeeds:', typeof getRegisteredFeeds);\n                console.log('toggleFeedSelection:', typeof toggleFeedSelection);\n                alert('Check console for function accessibility test results');\n              }}\n            >\n              🔍 Test Function Access\n            </button>\n            \n            <button\n              className=\"contract-test-button\"\n              onClick={async () => {\n                try {\n                  // First, check what feeds are registered in your contract\n                  console.log('Checking registered feeds...');\n                  const registeredFeeds = await getRegisteredFeeds();\n                  console.log('Registered feeds info:', registeredFeeds);\n                  \n                  if (!registeredFeeds) {\n                    alert('Could not check registered feeds. Check console for details.');\n                    return;\n                  }\n                  \n                  // Use selected feeds if available, otherwise fall back to test symbols\n                  let symbols, weights;\n                  if (selectedFeeds.length > 0) {\n                    symbols = selectedFeeds.map(f => f.name); // Use full name like \"ETH/USD\"\n                    weights = selectedFeeds.map(f => f.weight || (1 / selectedFeeds.length));\n                    console.log('Using selected feeds with full names:', symbols);\n                  } else {\n                    // Use the symbols that are actually in your FeedAggregator contract\n                    symbols = ['ETH/USD', 'BTC/USD', 'LINK/USD'];\n                    weights = [0.4, 0.4, 0.2]; // Match the weights defined above\n                    console.log('Using fallback test symbols from your contract:', symbols);\n                  }\n                  \n                  console.log('Final symbols:', symbols);\n                  console.log('Final weights:', weights);\n                  \n                  console.log('Testing contract integration with:', { symbols, weights });\n                  \n                  // First, test if contracts are accessible\n                  console.log('Testing contract accessibility...');\n                  const basketContract = new ethers.Contract(CONTRACT_ADDRESSES.basketPricer, basketPricerABI, provider);\n                  const aggregatorContract = new ethers.Contract(CONTRACT_ADDRESSES.feedAggregator, feedAggregatorABI, provider);\n                  \n                  console.log('Contracts created successfully');\n                  \n                  // Test FeedAggregator\n                  console.log('Testing FeedAggregator...');\n                  const contractPrices = await getContractPrices(symbols);\n                  console.log('FeedAggregator prices:', contractPrices);\n                  \n                  // Test BasketPricer\n                  console.log('Testing BasketPricer...');\n                  const contractBasket = await calculateContractBasketPrice(symbols, weights);\n                  console.log('BasketPricer result:', contractBasket);\n                  \n                  if (contractBasket) {\n                    // Convert ethers BigNumber to readable format\n                    const etfPrice = ethers.formatUnits(contractBasket.etfPrice, 18);\n                    const lowerBand = ethers.formatUnits(contractBasket.lower, 18);\n                    const upperBand = ethers.formatUnits(contractBasket.upper, 18);\n                    \n                    alert(`Contract Integration Test:\\n\\nSymbols Tested: ${symbols.join(', ')}\\nFeedAggregator: ${contractPrices ? '✅ Working' : '❌ Failed'}\\nBasketPricer: ✅ Working\\n\\nETF Price: ${etfPrice}\\nLower Band: ${lowerBand}\\nUpper Band: ${upperBand}`);\n                  } else {\n                    alert('Contract integration test failed. Check console for details.');\n                  }\n                } catch (error) {\n                  console.error('Contract test failed:', error);\n                  alert(`Contract test failed: ${error.message}\\n\\nCheck console for detailed error information.`);\n                }\n              }}\n            >\n              🧪 Test Contracts\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Created Prediction Markets */}\n      <div className=\"created-markets-section\">\n        <div className=\"section-header\">\n          <h3>🎯 Created Prediction Markets</h3>\n          <button \n            className=\"view-clob-button\"\n            onClick={() => {\n              // Navigate to CLOB trading page\n              window.location.href = '/trading';\n            }}\n          >\n            📊 Go to CLOB Trading\n          </button>\n        </div>\n        \n        <div className=\"markets-list\">\n          {(() => {\n            const createdMarkets = JSON.parse(localStorage.getItem('createdMarkets') || '[]');\n            if (createdMarkets.length === 0) {\n              return (\n                <div className=\"no-markets\">\n                  <p>No prediction markets created yet.</p>\n                  <p>Select feeds above and click \"🎯 Create Prediction Market (OFFLINE)\" to create a mock prediction market for testing. No blockchain transaction will occur.</p>\n                  <p className=\"warning-text\">⚠️ This is currently in offline mode for testing. Markets created are stored locally and can be used to test the CLOB trading interface.</p>\n                </div>\n              );\n            }\n            \n            return createdMarkets.map((market, index) => (\n              <div key={market.id} className=\"market-card\">\n                <div className=\"market-header\">\n                  <h4>Market #{index + 1}</h4>\n                  <span className=\"market-status\">\n                    {new Date(market.settleTs * 1000) > new Date() ? '🟡 Active' : '🔴 Settled'}\n                  </span>\n                </div>\n                \n                <div className=\"market-details\">\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Symbols:</span>\n                    <span className=\"value\">{market.symbols.join(', ')}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Strike Price:</span>\n                    <span className=\"value\">${safeFormatUnits(market.strike, 18)}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Price Band:</span>\n                    <span className=\"value\">\n                      ${safeFormatUnits(market.lower, 18)} - ${safeFormatUnits(market.upper, 18)}\n                    </span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Band Width:</span>\n                    <span className=\"value\">{market.bandBps/100}%</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Settlement:</span>\n                    <span className=\"value\">{new Date(market.settleTs * 1000).toLocaleString()}</span>\n                  </div>\n                  <div className=\"detail-row\">\n                    <span className=\"label\">Market Address:</span>\n                    <span className=\"value address\">\n                      {market.market.slice(0, 6)}...{market.market.slice(-4)}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"market-actions\">\n                  <button\n                    className=\"trade-button\"\n                    onClick={() => {\n                      // Navigate to CLOB trading with this market\n                      localStorage.setItem('selectedMarket', JSON.stringify(market));\n                      window.location.href = '/trading';\n                    }}\n                  >\n                    🚀 Trade This Market\n                  </button>\n                </div>\n              </div>\n            ));\n          })()}\n        </div>\n      </div>\n\n      {/* ETF Basket Calculator */}\n      {selectedFeeds.length > 0 && (\n        <div className=\"basket-calculator\">\n          <div className=\"calculator-header\">\n            <h3>📊 ETF Basket Calculator</h3>\n            <div className=\"calculator-controls\">\n              <button \n                className=\"refresh-basket-button\"\n                onClick={calculateBasketPrice}\n                disabled={selectedFeeds.length === 0}\n              >\n                🔄 Refresh Basket\n              </button>\n              <button \n                className=\"toggle-calculator-button\"\n                onClick={() => setShowBasketCalculator(!showBasketCalculator)}\n              >\n                {showBasketCalculator ? '🔽 Hide' : '🔼 Show'} Calculator\n              </button>\n            </div>\n          </div>\n          \n          {showBasketCalculator && (\n            <div className=\"calculator-content\">\n              {/* Basket Price Display */}\n              <div className=\"basket-price-display\">\n                <div className=\"price-main\">\n                  <span className=\"label\">Basket NAV:</span>\n                  <span className=\"value\">\n                    {basketPrice ? `$${basketPrice.toFixed(4)}` : (\n                      selectedFeeds.some(f => f.currentPrice === undefined) ? \n                      'Loading prices...' : 'No valid prices'\n                    )}\n                  </span>\n                </div>\n                \n                {/* Debug Info */}\n                <div className=\"debug-info\">\n                  <small>\n                    Selected feeds: {selectedFeeds.length} | \n                    Feeds with prices: {selectedFeeds.filter(f => f.currentPrice !== undefined && f.currentPrice !== null).length} |\n                    Status: {basketPrice ? 'Calculated' : 'Waiting for prices'}\n                  </small>\n                </div>\n                \n                {basketPrice && (\n                  <div className=\"price-bands\">\n                    <div className=\"band-info\">\n                      <span className=\"band-label\">5% Band:</span>\n                      <span className=\"band-range\">\n                        ${calculatePriceBands(basketPrice, 500)?.lower.toFixed(4)} - ${calculatePriceBands(basketPrice, 500)?.upper.toFixed(4)}\n                      </span>\n                    </div>\n                    <div className=\"band-info\">\n                      <span className=\"band-label\">10% Band:</span>\n                      <span className=\"band-range\">\n                        ${calculatePriceBands(basketPrice, 1000)?.lower.toFixed(4)} - ${calculatePriceBands(basketPrice, 1000)?.upper.toFixed(4)}\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Basket Composition */}\n              {basketCalculation && (\n                <div className=\"basket-composition\">\n                  <h4>Basket Composition</h4>\n                  <div className=\"composition-table\">\n                    <div className=\"table-header\">\n                      <span>Asset</span>\n                      <span>Price</span>\n                      <span>Weight</span>\n                      <span>Contribution</span>\n                    </div>\n                    {basketCalculation.map((item, index) => (\n                      <div key={`basket-${item.symbol}-${index}`} className=\"composition-row\">\n                        <span className=\"asset-symbol\">{item.symbol}</span>\n                        <span className=\"asset-price\">${item.price.toFixed(4)}</span>\n                        <span className=\"asset-weight\">{(item.weight * 100).toFixed(1)}%</span>\n                        <span className=\"asset-contribution\">${item.contribution.toFixed(4)}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Smart Contract Integration */}\n              <div className=\"contract-integration\">\n                <h4>🔗 Smart Contract Integration</h4>\n                <div className=\"integration-info\">\n                  <p>Use these parameters with your <code>EtfFeedAggregator</code> and <code>BasketPricer</code> contracts:</p>\n                  \n                  <div className=\"contract-params\">\n                    <div className=\"param-group\">\n                      <label>Symbols Array:</label>\n                      <code className=\"param-value\">\n                        {JSON.stringify(selectedFeeds.map(f => f.name.split('/')[0]))}\n                      </code>\n                    </div>\n                    \n                    <div className=\"param-group\">\n                      <label>Weights (1e18):</label>\n                      <code className=\"param-value\">\n                        {JSON.stringify(selectedFeeds.map(f => Math.floor((f.weight || (1 / selectedFeeds.length)) * 1e18)))}\n                      </code>\n                    </div>\n                    \n                    <div className=\"param-group\">\n                      <label>Feed Addresses:</label>\n                      <code className=\"param-value\">\n                        {JSON.stringify(selectedFeeds.map(f => f.address))}\n                      </code>\n                    </div>\n                  </div>\n                  \n                  <div className=\"contract-actions\">\n                    <button \n                      className=\"copy-params-button\"\n                      onClick={() => {\n                        const params = {\n                          symbols: selectedFeeds.map(f => f.name.split('/')[0]),\n                          weights: selectedFeeds.map(f => Math.floor((f.weight || (1 / selectedFeeds.length)) * 1e18)),\n                          addresses: selectedFeeds.map(f => f.address),\n                          basketPrice: basketPrice,\n                          timestamp: new Date().toISOString()\n                        };\n                        navigator.clipboard.writeText(JSON.stringify(params, null, 2));\n                        alert('Contract parameters copied to clipboard!');\n                      }}\n                    >\n                      📋 Copy Contract Params\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Help Section */}\n      <div className=\"help-section\">\n        <h3>💡 How to Use</h3>\n        <div className=\"help-content\">\n          <div className=\"help-item\">\n            <strong>1. Connect Wallet:</strong> Connect your Web3 wallet to view live prices\n          </div>\n          <div className=\"help-item\">\n            <strong>2. Select Feeds:</strong> Click on feeds to select them for your project\n          </div>\n          <div className=\"help-item\">\n            <strong>3. Copy Addresses:</strong> Use the copy button to get the contract address\n          </div>\n          <div className=\"help-item\">\n            <strong>4. Export Selection:</strong> Download your selected feeds as JSON\n          </div>\n          <div className=\"help-item\">\n            <strong>5. ETF Basket Calculator:</strong> Calculate weighted basket prices and price bands\n          </div>\n          <div className=\"help-item\">\n            <strong>6. Smart Contract Integration:</strong> Get ready-to-use parameters for your contracts\n          </div>\n        </div>\n        \n        <h3>🏗️ ETF Prediction Market Architecture</h3>\n        <div className=\"help-content\">\n          <div className=\"help-item\">\n            <strong>EtfFeedAggregator:</strong> Manages multiple Chainlink price feeds with staleness checks\n          </div>\n          <div className=\"help-item\">\n            <strong>BasketPricer:</strong> Calculates weighted basket prices and price bands for prediction markets\n          </div>\n          <div className=\"help-item\">\n            <strong>EtfPredictionMarket:</strong> Creates markets on whether ETF prices stay within specified bands\n          </div>\n          <div className=\"help-item\">\n            <strong>PredictionMarketVault:</strong> Manages collateral and payouts for prediction markets\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n  }\n  \n  export default ChainlinkFeeds; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}