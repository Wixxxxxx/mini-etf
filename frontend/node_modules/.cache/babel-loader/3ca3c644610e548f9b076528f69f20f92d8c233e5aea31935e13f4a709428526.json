{"ast":null,"code":"var _jsxFileName = \"/Users/raymeind/mini-etf/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { CONFIG, isTestnet, getNetworkInfo, isNetworkAllowed } from './config';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [account, setAccount] = useState('');\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showWalletOptions, setShowWalletOptions] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [trades, setTrades] = useState([]);\n  const [activeMarket, setActiveMarket] = useState('YES'); // Track active market tab\n  const [availableWallets, setAvailableWallets] = useState([]);\n  const [currentNetwork, setCurrentNetwork] = useState(null);\n  const [orderBookData, setOrderBookData] = useState({\n    bids: [],\n    asks: []\n  });\n  const [orderForm, setOrderForm] = useState({\n    market: 'YES',\n    side: 'Buy',\n    price: '',\n    quantity: '',\n    marketId: 'default_market'\n  });\n\n  // Detect available wallets on component mount\n  useEffect(() => {\n    detectAvailableWallets();\n    // Load initial order book data\n    if (orderForm.marketId) {\n      refreshOrderBook();\n    }\n  }, []);\n\n  // Load order book data when active market changes\n  useEffect(() => {\n    if (orderForm.marketId) {\n      refreshOrderBook();\n    }\n  }, [activeMarket, orderForm.marketId]);\n\n  // Auto-refresh order book every 3 seconds\n  useEffect(() => {\n    if (orderForm.marketId) {\n      const interval = setInterval(() => {\n        refreshOrderBook();\n      }, 3000);\n      return () => clearInterval(interval);\n    }\n  }, [orderForm.marketId]);\n\n  // Auto-refresh user orders every 5 seconds\n  useEffect(() => {\n    if (isConnected && account) {\n      const interval = setInterval(() => {\n        loadUserOrders();\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, [isConnected, account]);\n\n  // Function to detect which wallets are available\n  const detectAvailableWallets = () => {\n    const wallets = [];\n    if (typeof window.ethereum !== 'undefined') {\n      if (window.ethereum.isMetaMask) {\n        wallets.push({\n          id: 'metamask',\n          name: 'MetaMask',\n          icon: 'ðŸ¦Š',\n          connect: connectMetaMask\n        });\n      }\n      if (window.ethereum.isCoinbaseWallet) {\n        wallets.push({\n          id: 'coinbase',\n          name: 'Coinbase Wallet',\n          icon: 'ðŸª™',\n          connect: connectCoinbaseWallet\n        });\n      }\n      if (window.ethereum.isTrust) {\n        wallets.push({\n          id: 'trust',\n          name: 'Trust Wallet',\n          icon: 'ðŸ›¡ï¸',\n          connect: connectInjectedWallet\n        });\n      }\n      if (window.ethereum.isTokenPocket) {\n        wallets.push({\n          id: 'tokenpocket',\n          name: 'TokenPocket',\n          icon: 'ðŸ’¼',\n          connect: connectInjectedWallet\n        });\n      }\n\n      // If no specific wallet is detected but ethereum is available, add generic option\n      if (wallets.length === 0) {\n        wallets.push({\n          id: 'generic',\n          name: 'Injected Wallet',\n          icon: 'ðŸ’¼',\n          connect: connectInjectedWallet\n        });\n      }\n    }\n    setAvailableWallets(wallets);\n  };\n\n  // Connect to MetaMask\n  const connectMetaMask = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask) {\n        // Request account access\n        const accounts = await window.ethereum.request({\n          method: 'eth_requestAccounts'\n        });\n\n        // Check if we're on a testnet\n        const chainId = await window.ethereum.request({\n          method: 'eth_chainId'\n        });\n        const networkName = getNetworkInfo(chainId).name;\n        setCurrentNetwork({\n          chainId,\n          name: networkName\n        });\n        if (!isTestnet(chainId)) {\n          const networkInfo = getNetworkInfo(chainId);\n          alert(`âš ï¸ SAFETY WARNING: You're connected to ${networkInfo.name} (${chainId})!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch to a testnet like Sepolia, Goerli, or Mumbai before trading.`);\n          return;\n        }\n        if (!isNetworkAllowed(chainId)) {\n          alert(`âš ï¸ NETWORK BLOCKED: ${getNetworkInfo(chainId).name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          return;\n        }\n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const signer = await provider.getSigner();\n        setAccount(accounts[0]);\n        setProvider(provider);\n        setSigner(signer);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n        console.log(`âœ… Connected to ${networkName} testnet safely`);\n\n        // Load user orders after connecting\n        setTimeout(() => {\n          loadUserOrders();\n        }, 1000);\n\n        // Listen for network changes\n        window.ethereum.on('chainChanged', async newChainId => {\n          const newNetworkInfo = getNetworkInfo(newChainId);\n          setCurrentNetwork({\n            chainId: newChainId,\n            name: newNetworkInfo.name\n          });\n          if (!isTestnet(newChainId)) {\n            alert(`âš ï¸ NETWORK CHANGED: You're now on ${newNetworkInfo.name}!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch back to a testnet for safe testing.`);\n          }\n          if (!isNetworkAllowed(newChainId)) {\n            alert(`âš ï¸ NETWORK BLOCKED: ${newNetworkInfo.name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          }\n        });\n      } else {\n        alert('MetaMask not found! Please install MetaMask extension.');\n      }\n    } catch (error) {\n      console.error('Error connecting to MetaMask:', error);\n      alert('Failed to connect to MetaMask: ' + error.message);\n    }\n  };\n\n  // Connect to Coinbase Wallet\n  const connectCoinbaseWallet = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && window.ethereum.isCoinbaseWallet) {\n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const accounts = await provider.send(\"eth_requestAccounts\", []);\n        const signer = await provider.getSigner();\n        setProvider(provider);\n        setSigner(signer);\n        setAccount(accounts[0]);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n      } else {\n        alert('Coinbase Wallet is not installed. Please install Coinbase Wallet first!');\n      }\n    } catch (error) {\n      console.error('Error connecting to Coinbase Wallet:', error);\n      alert('Failed to connect to Coinbase Wallet');\n    }\n  };\n\n  // Connect to any injected wallet\n  const connectInjectedWallet = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && !window.ethereum.isMetaMask && !window.ethereum.isCoinbaseWallet) {\n        // Request account access\n        const accounts = await window.ethereum.request({\n          method: 'eth_requestAccounts'\n        });\n\n        // Check if we're on a testnet\n        const chainId = await window.ethereum.request({\n          method: 'eth_chainId'\n        });\n        const networkName = getNetworkInfo(chainId).name;\n        setCurrentNetwork({\n          chainId,\n          name: networkName\n        });\n        if (!isTestnet(chainId)) {\n          const networkInfo = getNetworkInfo(chainId);\n          alert(`âš ï¸ SAFETY WARNING: You're connected to ${networkInfo.name} (${chainId})!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch to a testnet like Sepolia, Goerli, or Mumbai before trading.`);\n          return;\n        }\n        if (!isNetworkAllowed(chainId)) {\n          alert(`âš ï¸ NETWORK BLOCKED: ${getNetworkInfo(chainId).name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          return;\n        }\n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const signer = await provider.getSigner();\n        setAccount(accounts[0]);\n        setProvider(provider);\n        setSigner(signer);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n        console.log(`âœ… Connected to ${networkName} testnet safely`);\n\n        // Load user orders after connecting\n        setTimeout(() => {\n          loadUserOrders();\n        }, 1000);\n\n        // Listen for network changes\n        window.ethereum.on('chainChanged', async newChainId => {\n          const newNetworkInfo = getNetworkInfo(newChainId);\n          setCurrentNetwork({\n            chainId: newChainId,\n            name: newNetworkInfo.name\n          });\n          if (!isTestnet(newChainId)) {\n            alert(`âš ï¸ NETWORK CHANGED: You're now on ${newNetworkInfo.name}!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch back to a testnet for safe testing.`);\n          }\n          if (!isNetworkAllowed(newChainId)) {\n            alert(`âš ï¸ NETWORK BLOCKED: ${newNetworkInfo.name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          }\n        });\n      } else {\n        alert('No injected wallet found!');\n      }\n    } catch (error) {\n      console.error('Error connecting to injected wallet:', error);\n      alert('Failed to connect to wallet: ' + error.message);\n    }\n  };\n\n  // Disconnect wallet\n  const disconnectWallet = () => {\n    setAccount(null);\n    setProvider(null);\n    setSigner(null);\n    setIsConnected(false);\n    setShowWalletOptions(false);\n  };\n\n  // Handle market tab change\n  const handleMarketChange = market => {\n    setActiveMarket(market);\n    setOrderForm(prev => ({\n      ...prev,\n      market: market\n    }));\n  };\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setOrderForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Place order\n  const placeOrder = async e => {\n    e.preventDefault();\n    if (!isConnected) {\n      alert('Please connect your wallet first');\n      return;\n    }\n    if (!orderForm.price || !orderForm.quantity) {\n      alert('Please fill in all fields');\n      return;\n    }\n    const price = parseFloat(orderForm.price);\n    const quantity = parseInt(orderForm.quantity);\n    if (price < 0 || price > 1 || quantity <= 0 || !Number.isInteger(quantity)) {\n      alert('Invalid price or quantity. Price must be between 0 and 1, quantity must be a positive integer.');\n      return;\n    }\n    try {\n      // Create order object for API\n      const orderData = {\n        marketId: orderForm.marketId,\n        market: activeMarket,\n        // Use activeMarket instead of orderForm.market\n        side: orderForm.side,\n        price: price,\n        qty: quantity,\n        user: account\n      };\n\n      // Call the actual CLOB backend API\n      const response = await fetch('http://localhost:3001/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n      const result = await response.json();\n      if (response.ok) {\n        // Add to orders list with backend order ID\n        const order = {\n          id: result.orderId,\n          user: account,\n          side: orderForm.side,\n          price: price,\n          qty: quantity,\n          timestamp: Math.floor(Date.now() / 1000),\n          market: activeMarket,\n          marketId: orderForm.marketId\n        };\n        setOrders(prev => [...prev, order]);\n\n        // Handle trades from the backend\n        if (result.trades && result.trades.length > 0) {\n          setTrades(prev => [...result.trades, ...prev]);\n\n          // Remove matched orders from user's orders list\n          const filledOrderIds = result.trades.map(trade => trade.buyer === account ? trade.orderId : trade.orderId);\n          setOrders(prev => prev.filter(o => !filledOrderIds.includes(o.id)));\n\n          // Refresh user orders to get updated state\n          setTimeout(() => {\n            loadUserOrders();\n          }, 100);\n        }\n\n        // Reset form\n        setOrderForm({\n          market: activeMarket,\n          side: 'Buy',\n          price: '',\n          quantity: '',\n          marketId: 'default_market'\n        });\n        alert('Order placed successfully!');\n\n        // Refresh order book data immediately and after a short delay\n        refreshOrderBook();\n        setTimeout(() => {\n          refreshOrderBook();\n          // Also refresh user orders\n          loadUserOrders();\n        }, 500); // Refresh again after 500ms to ensure backend has processed\n      } else {\n        alert(`Failed to place order: ${result.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error placing order:', error);\n      alert('Failed to place order. Please check your connection.');\n    }\n  };\n\n  // Cancel order\n  const cancelOrder = orderId => {\n    setOrders(prev => prev.filter(o => o.id !== orderId));\n    alert('Order cancelled');\n  };\n\n  // Get order book for a specific market\n  const getOrderBook = market => {\n    return orders.filter(o => o.market === market);\n  };\n\n  // Refresh order book data from backend\n  const refreshOrderBook = async () => {\n    try {\n      console.log('Refreshing order book for market:', activeMarket);\n      const response = await fetch(`http://localhost:3001/api/markets/${orderForm.marketId}/orderbook?market=${activeMarket}`);\n      if (response.ok) {\n        const orderBookData = await response.json();\n        console.log('Received order book data:', orderBookData);\n        setOrderBookData({\n          bids: orderBookData.bids || [],\n          asks: orderBookData.asks || []\n        });\n        console.log('Order book state updated');\n      } else {\n        console.error('Failed to fetch order book:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('Error refreshing order book:', error);\n    }\n  };\n\n  // Load user orders from backend\n  const loadUserOrders = async () => {\n    if (!account) return;\n    try {\n      console.log('Loading user orders for account:', account);\n      const response = await fetch(`http://localhost:3001/api/users/${account}/orders`);\n      if (response.ok) {\n        const userOrders = await response.json();\n        console.log('Received user orders:', userOrders);\n        setOrders(userOrders || []);\n      } else {\n        console.error('Failed to fetch user orders:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('Error loading user orders:', error);\n    }\n  };\n\n  // Get best bid and ask for a market\n  const getBestPrices = market => {\n    const marketOrders = getOrderBook(market);\n    const bids = marketOrders.filter(o => o.side === 'Buy').sort((a, b) => b.price - a.price);\n    const asks = marketOrders.filter(o => o.side === 'Sell').sort((a, b) => a.price - b.price);\n    return {\n      bestBid: bids.length > 0 ? bids[0].price : 0,\n      bestAsk: asks.length > 0 ? asks[0].price : 1\n    };\n  };\n\n  // Helper functions for network safety\n  const switchToTestnet = async testnetName => {\n    try {\n      if (!window.ethereum) {\n        alert('No wallet detected!');\n        return;\n      }\n      let chainId;\n      switch (testnetName) {\n        case 'Sepolia':\n          chainId = '0xaa36a7';\n          break;\n        case 'Goerli':\n          chainId = '0x5';\n          break;\n        case 'Mumbai':\n          chainId = '0x13881';\n          break;\n        default:\n          chainId = '0xaa36a7';\n        // Default to Sepolia\n      }\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{\n          chainId\n        }]\n      });\n      console.log(`âœ… Switched to ${testnetName} testnet`);\n    } catch (error) {\n      console.error('Error switching networks:', error);\n      alert(`Failed to switch to ${testnetName}: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDE80 CLOB Trading System\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Central Limit Order Book for Binary Markets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"safety-banner\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"safety-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"safety-icon\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"SAFETY WARNING:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), \" This is a development/testing system. Only connect wallets with testnet accounts. Never use mainnet wallets with real funds!\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"safety-icon\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"CLOB Trading Interface\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wallet-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDD10 Wallet Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), !isConnected ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wallet-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"connect-button\",\n            onClick: () => setShowWalletOptions(!showWalletOptions),\n            children: \"Connect Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), showWalletOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"wallet-options\",\n            children: [availableWallets.map(wallet => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"wallet-option\",\n              onClick: wallet.connect,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"wallet-icon\",\n                children: wallet.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 23\n              }, this), wallet.name]\n            }, wallet.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 21\n            }, this)), availableWallets.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-wallets-message\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No Web3 wallets detected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"wallet-install-links\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"https://metamask.io/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"wallet-link\",\n                  children: \"Install MetaMask\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wallet-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Account:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this), \" \", account.slice(0, 6), \"...\", account.slice(-4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), currentNetwork && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"network-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Network:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), \" \", currentNetwork.name, !isTestnet(currentNetwork.chainId) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"warning\",\n              children: \"\\u26A0\\uFE0F MAINNET - UNSAFE!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 21\n            }, this), !isNetworkAllowed(currentNetwork.chainId) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"warning\",\n              children: \"\\uD83D\\uDEAB NETWORK BLOCKED!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"network-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"testnet-button\",\n              onClick: () => switchToTestnet('Sepolia'),\n              children: \"Switch to Sepolia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"testnet-button\",\n              onClick: () => switchToTestnet('Goerli'),\n              children: \"Switch to Goerli\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"testnet-button\",\n              onClick: () => switchToTestnet('Mumbai'),\n              children: \"Switch to Mumbai\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"disconnect-button\",\n            onClick: disconnectWallet,\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"market-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `market-tab ${activeMarket === 'YES' ? 'active' : ''}`,\n          onClick: () => handleMarketChange('YES'),\n          children: \"YES Market\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `market-tab ${activeMarket === 'NO' ? 'active' : ''}`,\n          onClick: () => handleMarketChange('NO'),\n          children: \"NO Market\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trading-section-single\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"market-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [activeMarket, \" Market\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"order-form\",\n            onSubmit: placeOrder,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              name: \"market\",\n              value: activeMarket\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Side:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"side\",\n                value: orderForm.side,\n                onChange: handleInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Buy\",\n                  children: \"Buy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Sell\",\n                  children: \"Sell\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Price (0.0 - 1.0):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"price\",\n                value: orderForm.price,\n                onChange: handleInputChange,\n                step: \"0.01\",\n                min: \"0\",\n                max: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Quantity (whole shares):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"quantity\",\n                value: orderForm.quantity,\n                onChange: handleInputChange,\n                step: \"1\",\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"submit-button\",\n              disabled: !isConnected,\n              children: \"Place Order\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-book\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Order Book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: refreshOrderBook,\n                style: {\n                  background: '#2196F3',\n                  color: 'white',\n                  border: 'none',\n                  padding: '8px 16px',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  fontSize: '12px'\n                },\n                children: \"\\uD83D\\uDD04 Refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Best Bid: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bid\",\n                    children: orderBookData.bids.length > 0 ? orderBookData.bids[0].price.toFixed(3) : '0.000'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 653,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Best Ask: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ask\",\n                    children: orderBookData.asks.length > 0 ? orderBookData.asks[0].price.toFixed(3) : '1.000'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Bids (Buy Orders)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 19\n                }, this), orderBookData.bids.map((bid, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-row bid\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Buy \", bid.totalQty, \" @ \", bid.price.toFixed(3)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 23\n                  }, this)\n                }, `bid-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this)), orderBookData.bids.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    textAlign: 'center',\n                    color: '#888',\n                    fontStyle: 'italic'\n                  },\n                  children: \"No bids in this market\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Asks (Sell Orders)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 19\n                }, this), orderBookData.asks.map((ask, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-row ask\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Sell \", ask.totalQty, \" @ \", ask.price.toFixed(3)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 681,\n                    columnNumber: 23\n                  }, this)\n                }, `ask-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 21\n                }, this)), orderBookData.asks.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    textAlign: 'center',\n                    color: '#888',\n                    fontStyle: 'italic'\n                  },\n                  children: \"No asks in this market\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Your Orders\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 694,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: loadUserOrders,\n                    style: {\n                      background: '#4CAF50',\n                      color: 'white',\n                      border: 'none',\n                      padding: '4px 8px',\n                      borderRadius: '4px',\n                      cursor: 'pointer',\n                      fontSize: '10px'\n                    },\n                    children: \"\\uD83D\\uDD04\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 695,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 19\n                }, this), orders.filter(o => o.market === activeMarket).slice(0, 5).map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: order.side === 'Buy' ? 'bid' : 'ask',\n                    children: [order.side, \" \", order.qty, \" @ \", order.price.toFixed(3)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => cancelOrder(order.id),\n                    style: {\n                      background: '#f44336',\n                      color: 'white',\n                      border: 'none',\n                      padding: '4px 8px',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 23\n                  }, this)]\n                }, order.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 21\n                }, this)), orders.filter(o => o.market === activeMarket).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    textAlign: 'center',\n                    color: '#888',\n                    fontStyle: 'italic'\n                  },\n                  children: \"No orders in this market yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trades-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Trades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), trades.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No trades yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 13\n        }, this) : trades.slice(0, 10).map(trade => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"trade-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: trade.market\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [trade.buyer.slice(0, 6), \"...\", trade.buyer.slice(-4), \" \\u2192 \", trade.seller.slice(0, 6), \"...\", trade.seller.slice(-4)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [trade.qty, \" @ \", trade.price.toFixed(3)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(trade.timestamp * 1000).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 17\n          }, this)]\n        }, trade.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xgNCQescnVAzAQ8a6YIhPBP1K6E=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ethers","CONFIG","isTestnet","getNetworkInfo","isNetworkAllowed","jsxDEV","_jsxDEV","App","_s","account","setAccount","provider","setProvider","signer","setSigner","isConnected","setIsConnected","showWalletOptions","setShowWalletOptions","orders","setOrders","trades","setTrades","activeMarket","setActiveMarket","availableWallets","setAvailableWallets","currentNetwork","setCurrentNetwork","orderBookData","setOrderBookData","bids","asks","orderForm","setOrderForm","market","side","price","quantity","marketId","detectAvailableWallets","refreshOrderBook","interval","setInterval","clearInterval","loadUserOrders","wallets","window","ethereum","isMetaMask","push","id","name","icon","connect","connectMetaMask","isCoinbaseWallet","connectCoinbaseWallet","isTrust","connectInjectedWallet","isTokenPocket","length","accounts","request","method","chainId","networkName","networkInfo","alert","BrowserProvider","getSigner","console","log","setTimeout","on","newChainId","newNetworkInfo","error","message","send","disconnectWallet","handleMarketChange","prev","handleInputChange","e","value","target","placeOrder","preventDefault","parseFloat","parseInt","Number","isInteger","orderData","qty","user","response","fetch","headers","body","JSON","stringify","result","json","ok","order","orderId","timestamp","Math","floor","Date","now","filledOrderIds","map","trade","buyer","filter","o","includes","cancelOrder","getOrderBook","status","statusText","userOrders","getBestPrices","marketOrders","sort","a","b","bestBid","bestAsk","switchToTestnet","testnetName","params","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","wallet","href","rel","slice","onSubmit","type","onChange","step","min","max","required","disabled","style","display","justifyContent","alignItems","background","color","border","padding","borderRadius","cursor","fontSize","toFixed","bid","index","totalQty","textAlign","fontStyle","ask","seller","toLocaleTimeString","_c","$RefreshReg$"],"sources":["/Users/raymeind/mini-etf/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { CONFIG, isTestnet, getNetworkInfo, isNetworkAllowed } from './config';\nimport './App.css';\n\nfunction App() {\n  const [account, setAccount] = useState('');\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showWalletOptions, setShowWalletOptions] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [trades, setTrades] = useState([]);\n  const [activeMarket, setActiveMarket] = useState('YES'); // Track active market tab\n  const [availableWallets, setAvailableWallets] = useState([]);\n  const [currentNetwork, setCurrentNetwork] = useState(null);\n  const [orderBookData, setOrderBookData] = useState({ bids: [], asks: [] });\n  const [orderForm, setOrderForm] = useState({\n    market: 'YES',\n    side: 'Buy',\n    price: '',\n    quantity: '',\n    marketId: 'default_market'\n  });\n\n  // Detect available wallets on component mount\n  useEffect(() => {\n    detectAvailableWallets();\n    // Load initial order book data\n    if (orderForm.marketId) {\n      refreshOrderBook();\n    }\n  }, []);\n\n  // Load order book data when active market changes\n  useEffect(() => {\n    if (orderForm.marketId) {\n      refreshOrderBook();\n    }\n  }, [activeMarket, orderForm.marketId]);\n\n  // Auto-refresh order book every 3 seconds\n  useEffect(() => {\n    if (orderForm.marketId) {\n      const interval = setInterval(() => {\n        refreshOrderBook();\n      }, 3000);\n      \n      return () => clearInterval(interval);\n    }\n  }, [orderForm.marketId]);\n\n  // Auto-refresh user orders every 5 seconds\n  useEffect(() => {\n    if (isConnected && account) {\n      const interval = setInterval(() => {\n        loadUserOrders();\n      }, 5000);\n      \n      return () => clearInterval(interval);\n    }\n  }, [isConnected, account]);\n\n  // Function to detect which wallets are available\n  const detectAvailableWallets = () => {\n    const wallets = [];\n    \n    if (typeof window.ethereum !== 'undefined') {\n      if (window.ethereum.isMetaMask) {\n        wallets.push({ id: 'metamask', name: 'MetaMask', icon: 'ðŸ¦Š', connect: connectMetaMask });\n      }\n      if (window.ethereum.isCoinbaseWallet) {\n        wallets.push({ id: 'coinbase', name: 'Coinbase Wallet', icon: 'ðŸª™', connect: connectCoinbaseWallet });\n      }\n      if (window.ethereum.isTrust) {\n        wallets.push({ id: 'trust', name: 'Trust Wallet', icon: 'ðŸ›¡ï¸', connect: connectInjectedWallet });\n      }\n      if (window.ethereum.isTokenPocket) {\n        wallets.push({ id: 'tokenpocket', name: 'TokenPocket', icon: 'ðŸ’¼', connect: connectInjectedWallet });\n      }\n      \n      // If no specific wallet is detected but ethereum is available, add generic option\n      if (wallets.length === 0) {\n        wallets.push({ id: 'generic', name: 'Injected Wallet', icon: 'ðŸ’¼', connect: connectInjectedWallet });\n      }\n    }\n    \n    setAvailableWallets(wallets);\n  };\n\n  // Connect to MetaMask\n  const connectMetaMask = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask) {\n        // Request account access\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        \n        // Check if we're on a testnet\n        const chainId = await window.ethereum.request({ method: 'eth_chainId' });\n        const networkName = getNetworkInfo(chainId).name;\n        setCurrentNetwork({ chainId, name: networkName });\n        \n        if (!isTestnet(chainId)) {\n          const networkInfo = getNetworkInfo(chainId);\n          alert(`âš ï¸ SAFETY WARNING: You're connected to ${networkInfo.name} (${chainId})!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch to a testnet like Sepolia, Goerli, or Mumbai before trading.`);\n          return;\n        }\n        \n        if (!isNetworkAllowed(chainId)) {\n          alert(`âš ï¸ NETWORK BLOCKED: ${getNetworkInfo(chainId).name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          return;\n        }\n        \n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const signer = await provider.getSigner();\n        \n        setAccount(accounts[0]);\n        setProvider(provider);\n        setSigner(signer);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n        \n        console.log(`âœ… Connected to ${networkName} testnet safely`);\n        \n        // Load user orders after connecting\n        setTimeout(() => {\n          loadUserOrders();\n        }, 1000);\n        \n        // Listen for network changes\n        window.ethereum.on('chainChanged', async (newChainId) => {\n          const newNetworkInfo = getNetworkInfo(newChainId);\n          setCurrentNetwork({ chainId: newChainId, name: newNetworkInfo.name });\n          \n          if (!isTestnet(newChainId)) {\n            alert(`âš ï¸ NETWORK CHANGED: You're now on ${newNetworkInfo.name}!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch back to a testnet for safe testing.`);\n          }\n          \n          if (!isNetworkAllowed(newChainId)) {\n            alert(`âš ï¸ NETWORK BLOCKED: ${newNetworkInfo.name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          }\n        });\n      } else {\n        alert('MetaMask not found! Please install MetaMask extension.');\n      }\n    } catch (error) {\n      console.error('Error connecting to MetaMask:', error);\n      alert('Failed to connect to MetaMask: ' + error.message);\n    }\n  };\n\n  // Connect to Coinbase Wallet\n  const connectCoinbaseWallet = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && window.ethereum.isCoinbaseWallet) {\n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const accounts = await provider.send(\"eth_requestAccounts\", []);\n        const signer = await provider.getSigner();\n        \n        setProvider(provider);\n        setSigner(signer);\n        setAccount(accounts[0]);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n      } else {\n        alert('Coinbase Wallet is not installed. Please install Coinbase Wallet first!');\n      }\n    } catch (error) {\n      console.error('Error connecting to Coinbase Wallet:', error);\n      alert('Failed to connect to Coinbase Wallet');\n    }\n  };\n\n  // Connect to any injected wallet\n  const connectInjectedWallet = async () => {\n    try {\n      if (typeof window.ethereum !== 'undefined' && !window.ethereum.isMetaMask && !window.ethereum.isCoinbaseWallet) {\n        // Request account access\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        \n        // Check if we're on a testnet\n        const chainId = await window.ethereum.request({ method: 'eth_chainId' });\n        const networkName = getNetworkInfo(chainId).name;\n        setCurrentNetwork({ chainId, name: networkName });\n        \n        if (!isTestnet(chainId)) {\n          const networkInfo = getNetworkInfo(chainId);\n          alert(`âš ï¸ SAFETY WARNING: You're connected to ${networkInfo.name} (${chainId})!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch to a testnet like Sepolia, Goerli, or Mumbai before trading.`);\n          return;\n        }\n        \n        if (!isNetworkAllowed(chainId)) {\n          alert(`âš ï¸ NETWORK BLOCKED: ${getNetworkInfo(chainId).name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          return;\n        }\n        \n        const provider = new ethers.BrowserProvider(window.ethereum);\n        const signer = await provider.getSigner();\n        \n        setAccount(accounts[0]);\n        setProvider(provider);\n        setSigner(signer);\n        setIsConnected(true);\n        setShowWalletOptions(false);\n        \n        console.log(`âœ… Connected to ${networkName} testnet safely`);\n        \n        // Load user orders after connecting\n        setTimeout(() => {\n          loadUserOrders();\n        }, 1000);\n        \n        // Listen for network changes\n        window.ethereum.on('chainChanged', async (newChainId) => {\n          const newNetworkInfo = getNetworkInfo(newChainId);\n          setCurrentNetwork({ chainId: newChainId, name: newNetworkInfo.name });\n          \n          if (!isTestnet(newChainId)) {\n            alert(`âš ï¸ NETWORK CHANGED: You're now on ${newNetworkInfo.name}!\\n\\nThis is NOT a testnet and could use real funds.\\n\\nPlease switch back to a testnet for safe testing.`);\n          }\n          \n          if (!isNetworkAllowed(newChainId)) {\n            alert(`âš ï¸ NETWORK BLOCKED: ${newNetworkInfo.name} is not allowed in this environment.\\n\\nPlease switch to an allowed testnet.`);\n          }\n        });\n      } else {\n        alert('No injected wallet found!');\n      }\n    } catch (error) {\n      console.error('Error connecting to injected wallet:', error);\n      alert('Failed to connect to wallet: ' + error.message);\n    }\n  };\n\n  // Disconnect wallet\n  const disconnectWallet = () => {\n    setAccount(null);\n    setProvider(null);\n    setSigner(null);\n    setIsConnected(false);\n    setShowWalletOptions(false);\n  };\n\n  // Handle market tab change\n  const handleMarketChange = (market) => {\n    setActiveMarket(market);\n    setOrderForm(prev => ({\n      ...prev,\n      market: market\n    }));\n  };\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setOrderForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Place order\n  const placeOrder = async (e) => {\n    e.preventDefault();\n    \n    if (!isConnected) {\n      alert('Please connect your wallet first');\n      return;\n    }\n\n    if (!orderForm.price || !orderForm.quantity) {\n      alert('Please fill in all fields');\n      return;\n    }\n\n    const price = parseFloat(orderForm.price);\n    const quantity = parseInt(orderForm.quantity);\n\n    if (price < 0 || price > 1 || quantity <= 0 || !Number.isInteger(quantity)) {\n      alert('Invalid price or quantity. Price must be between 0 and 1, quantity must be a positive integer.');\n      return;\n    }\n\n    try {\n      // Create order object for API\n      const orderData = {\n        marketId: orderForm.marketId,\n        market: activeMarket, // Use activeMarket instead of orderForm.market\n        side: orderForm.side,\n        price: price,\n        qty: quantity,\n        user: account\n      };\n\n      // Call the actual CLOB backend API\n      const response = await fetch('http://localhost:3001/api/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(orderData)\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        // Add to orders list with backend order ID\n        const order = {\n          id: result.orderId,\n          user: account,\n          side: orderForm.side,\n          price: price,\n          qty: quantity,\n          timestamp: Math.floor(Date.now() / 1000),\n          market: activeMarket,\n          marketId: orderForm.marketId\n        };\n\n        setOrders(prev => [...prev, order]);\n\n        // Handle trades from the backend\n        if (result.trades && result.trades.length > 0) {\n          setTrades(prev => [...result.trades, ...prev]);\n          \n          // Remove matched orders from user's orders list\n          const filledOrderIds = result.trades.map(trade => \n            trade.buyer === account ? trade.orderId : trade.orderId\n          );\n          \n          setOrders(prev => prev.filter(o => !filledOrderIds.includes(o.id)));\n          \n          // Refresh user orders to get updated state\n          setTimeout(() => {\n            loadUserOrders();\n          }, 100);\n        }\n\n        // Reset form\n        setOrderForm({\n          market: activeMarket,\n          side: 'Buy',\n          price: '',\n          quantity: '',\n          marketId: 'default_market'\n        });\n\n        alert('Order placed successfully!');\n        \n        // Refresh order book data immediately and after a short delay\n        refreshOrderBook();\n        setTimeout(() => {\n          refreshOrderBook();\n          // Also refresh user orders\n          loadUserOrders();\n        }, 500); // Refresh again after 500ms to ensure backend has processed\n      } else {\n        alert(`Failed to place order: ${result.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error placing order:', error);\n      alert('Failed to place order. Please check your connection.');\n    }\n  };\n\n  // Cancel order\n  const cancelOrder = (orderId) => {\n    setOrders(prev => prev.filter(o => o.id !== orderId));\n    alert('Order cancelled');\n  };\n\n  // Get order book for a specific market\n  const getOrderBook = (market) => {\n    return orders.filter(o => o.market === market);\n  };\n\n  // Refresh order book data from backend\n  const refreshOrderBook = async () => {\n    try {\n      console.log('Refreshing order book for market:', activeMarket);\n      const response = await fetch(`http://localhost:3001/api/markets/${orderForm.marketId}/orderbook?market=${activeMarket}`);\n      if (response.ok) {\n        const orderBookData = await response.json();\n        console.log('Received order book data:', orderBookData);\n        setOrderBookData({\n          bids: orderBookData.bids || [],\n          asks: orderBookData.asks || []\n        });\n        console.log('Order book state updated');\n      } else {\n        console.error('Failed to fetch order book:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('Error refreshing order book:', error);\n    }\n  };\n\n  // Load user orders from backend\n  const loadUserOrders = async () => {\n    if (!account) return;\n    \n    try {\n      console.log('Loading user orders for account:', account);\n      const response = await fetch(`http://localhost:3001/api/users/${account}/orders`);\n      if (response.ok) {\n        const userOrders = await response.json();\n        console.log('Received user orders:', userOrders);\n        setOrders(userOrders || []);\n      } else {\n        console.error('Failed to fetch user orders:', response.status, response.statusText);\n      }\n    } catch (error) {\n      console.error('Error loading user orders:', error);\n    }\n  };\n\n  // Get best bid and ask for a market\n  const getBestPrices = (market) => {\n    const marketOrders = getOrderBook(market);\n    const bids = marketOrders.filter(o => o.side === 'Buy').sort((a, b) => b.price - a.price);\n    const asks = marketOrders.filter(o => o.side === 'Sell').sort((a, b) => a.price - b.price);\n    \n    return {\n      bestBid: bids.length > 0 ? bids[0].price : 0,\n      bestAsk: asks.length > 0 ? asks[0].price : 1\n    };\n  };\n\n  // Helper functions for network safety\n  const switchToTestnet = async (testnetName) => {\n    try {\n      if (!window.ethereum) {\n        alert('No wallet detected!');\n        return;\n      }\n      \n      let chainId;\n      switch (testnetName) {\n        case 'Sepolia':\n          chainId = '0xaa36a7';\n          break;\n        case 'Goerli':\n          chainId = '0x5';\n          break;\n        case 'Mumbai':\n          chainId = '0x13881';\n          break;\n        default:\n          chainId = '0xaa36a7'; // Default to Sepolia\n      }\n      \n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId }],\n      });\n      \n      console.log(`âœ… Switched to ${testnetName} testnet`);\n    } catch (error) {\n      console.error('Error switching networks:', error);\n      alert(`Failed to switch to ${testnetName}: ${error.message}`);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"app-header\">\n        <h1>ðŸš€ CLOB Trading System</h1>\n        <p>Central Limit Order Book for Binary Markets</p>\n      </header>\n      \n      {/* Safety Banner */}\n      <div className=\"safety-banner\">\n        <div className=\"safety-content\">\n          <span className=\"safety-icon\">âš ï¸</span>\n          <strong>SAFETY WARNING:</strong> This is a development/testing system. \n          Only connect wallets with testnet accounts. Never use mainnet wallets with real funds!\n          <span className=\"safety-icon\">âš ï¸</span>\n        </div>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"header\">\n          <h1>CLOB Trading Interface</h1>\n        </div>\n\n        {/* Wallet Section */}\n        <div className=\"wallet-section\">\n          <h2>ðŸ” Wallet Connection</h2>\n          \n          {!isConnected ? (\n            <div className=\"wallet-controls\">\n              <button \n                className=\"connect-button\"\n                onClick={() => setShowWalletOptions(!showWalletOptions)}\n              >\n                Connect Wallet\n              </button>\n              \n              {showWalletOptions && (\n                <div className=\"wallet-options\">\n                  {availableWallets.map((wallet) => (\n                    <button\n                      key={wallet.name}\n                      className=\"wallet-option\"\n                      onClick={wallet.connect}\n                    >\n                      <span className=\"wallet-icon\">{wallet.icon}</span>\n                      {wallet.name}\n                    </button>\n                  ))}\n                  {availableWallets.length === 0 && (\n                    <div className=\"no-wallets-message\">\n                      <p>No Web3 wallets detected</p>\n                      <div className=\"wallet-install-links\">\n                        <a href=\"https://metamask.io/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"wallet-link\">\n                          Install MetaMask\n                        </a>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"wallet-info\">\n              <div className=\"account-info\">\n                <strong>Account:</strong> {account.slice(0, 6)}...{account.slice(-4)}\n              </div>\n              \n              {currentNetwork && (\n                <div className=\"network-info\">\n                  <strong>Network:</strong> {currentNetwork.name}\n                  {!isTestnet(currentNetwork.chainId) && (\n                    <span className=\"warning\">âš ï¸ MAINNET - UNSAFE!</span>\n                  )}\n                  {!isNetworkAllowed(currentNetwork.chainId) && (\n                    <span className=\"warning\">ðŸš« NETWORK BLOCKED!</span>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"network-controls\">\n                <button \n                  className=\"testnet-button\"\n                  onClick={() => switchToTestnet('Sepolia')}\n                >\n                  Switch to Sepolia\n                </button>\n                <button \n                  className=\"testnet-button\"\n                  onClick={() => switchToTestnet('Goerli')}\n                >\n                  Switch to Goerli\n                </button>\n                <button \n                  className=\"testnet-button\"\n                  onClick={() => switchToTestnet('Mumbai')}\n                >\n                  Switch to Mumbai\n                </button>\n              </div>\n              \n              <button className=\"disconnect-button\" onClick={disconnectWallet}>\n                Disconnect\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Market Selection Tabs */}\n        <div className=\"market-tabs\">\n          <button \n            className={`market-tab ${activeMarket === 'YES' ? 'active' : ''}`}\n            onClick={() => handleMarketChange('YES')}\n          >\n            YES Market\n          </button>\n          <button \n            className={`market-tab ${activeMarket === 'NO' ? 'active' : ''}`}\n            onClick={() => handleMarketChange('NO')}\n          >\n            NO Market\n          </button>\n        </div>\n\n        {/* Trading Section - Single Market */}\n        <div className=\"trading-section-single\">\n          <div className=\"market-card\">\n            <h3>{activeMarket} Market</h3>\n            <form className=\"order-form\" onSubmit={placeOrder}>\n              <input type=\"hidden\" name=\"market\" value={activeMarket} />\n              \n              <div className=\"form-group\">\n                <label>Side:</label>\n                <select name=\"side\" value={orderForm.side} onChange={handleInputChange}>\n                  <option value=\"Buy\">Buy</option>\n                  <option value=\"Sell\">Sell</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Price (0.0 - 1.0):</label>\n                <input\n                  type=\"number\"\n                  name=\"price\"\n                  value={orderForm.price}\n                  onChange={handleInputChange}\n                  step=\"0.01\"\n                  min=\"0\"\n                  max=\"1\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Quantity (whole shares):</label>\n                <input\n                  type=\"number\"\n                  name=\"quantity\"\n                  value={orderForm.quantity}\n                  onChange={handleInputChange}\n                  step=\"1\"\n                  min=\"1\"\n                  required\n                />\n              </div>\n\n              <button type=\"submit\" className=\"submit-button\" disabled={!isConnected}>\n                Place Order\n              </button>\n            </form>\n\n            {/* Order Book for Active Market */}\n            <div className=\"order-book\">\n              <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\n                <h4>Order Book</h4>\n                <button \n                  onClick={refreshOrderBook}\n                  style={{\n                    background: '#2196F3', \n                    color: 'white', \n                    border: 'none', \n                    padding: '8px 16px', \n                    borderRadius: '4px', \n                    cursor: 'pointer',\n                    fontSize: '12px'\n                  }}\n                >\n                  ðŸ”„ Refresh\n                </button>\n              </div>\n              <div>\n                <div className=\"order-row\">\n                  <span>Best Bid: <span className=\"bid\">\n                    {orderBookData.bids.length > 0 ? orderBookData.bids[0].price.toFixed(3) : '0.000'}\n                  </span></span>\n                  <span>Best Ask: <span className=\"ask\">\n                    {orderBookData.asks.length > 0 ? orderBookData.asks[0].price.toFixed(3) : '1.000'}\n                  </span></span>\n                </div>\n                \n                {/* Bids (Buy Orders) */}\n                <div className=\"order-section\">\n                  <h5>Bids (Buy Orders)</h5>\n                  {orderBookData.bids.map((bid, index) => (\n                    <div key={`bid-${index}`} className=\"order-row bid\">\n                      <span>Buy {bid.totalQty} @ {bid.price.toFixed(3)}</span>\n                    </div>\n                  ))}\n                  {orderBookData.bids.length === 0 && (\n                    <p style={{textAlign: 'center', color: '#888', fontStyle: 'italic'}}>\n                      No bids in this market\n                    </p>\n                  )}\n                </div>\n\n                {/* Asks (Sell Orders) */}\n                <div className=\"order-section\">\n                  <h5>Asks (Sell Orders)</h5>\n                  {orderBookData.asks.map((ask, index) => (\n                    <div key={`ask-${index}`} className=\"order-row ask\">\n                      <span>Sell {ask.totalQty} @ {ask.price.toFixed(3)}</span>\n                    </div>\n                  ))}\n                  {orderBookData.asks.length === 0 && (\n                    <p style={{textAlign: 'center', color: '#888', fontStyle: 'italic'}}>\n                      No asks in this market\n                    </p>\n                  )}\n                </div>\n\n                {/* User's Orders */}\n                <div className=\"order-section\">\n                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\n                    <h5>Your Orders</h5>\n                    <button \n                      onClick={loadUserOrders}\n                      style={{\n                        background: '#4CAF50', \n                        color: 'white', \n                        border: 'none', \n                        padding: '4px 8px', \n                        borderRadius: '4px', \n                        cursor: 'pointer',\n                        fontSize: '10px'\n                      }}\n                    >\n                      ðŸ”„\n                    </button>\n                  </div>\n                  {orders.filter(o => o.market === activeMarket).slice(0, 5).map(order => (\n                    <div key={order.id} className=\"order-row\">\n                      <span className={order.side === 'Buy' ? 'bid' : 'ask'}>\n                        {order.side} {order.qty} @ {order.price.toFixed(3)}\n                      </span>\n                      <button \n                        onClick={() => cancelOrder(order.id)}\n                        style={{background: '#f44336', color: 'white', border: 'none', padding: '4px 8px', borderRadius: '4px', cursor: 'pointer'}}\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  ))}\n                  {orders.filter(o => o.market === activeMarket).length === 0 && (\n                    <p style={{textAlign: 'center', color: '#888', fontStyle: 'italic'}}>\n                      No orders in this market yet\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Trades */}\n        <div className=\"trades-section\">\n          <h3>Recent Trades</h3>\n          {trades.length === 0 ? (\n            <p>No trades yet</p>\n          ) : (\n            trades.slice(0, 10).map(trade => (\n              <div key={trade.id} className=\"trade-row\">\n                <span>{trade.market}</span>\n                <span>{trade.buyer.slice(0, 6)}...{trade.buyer.slice(-4)} â†’ {trade.seller.slice(0, 6)}...{trade.seller.slice(-4)}</span>\n                <span>{trade.qty} @ {trade.price.toFixed(3)}</span>\n                <span>{new Date(trade.timestamp * 1000).toLocaleTimeString()}</span>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}